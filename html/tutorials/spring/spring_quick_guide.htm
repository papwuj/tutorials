<!DOCTYPE html>
<html lang="en-US">
<head>
<title>Spring - Quick Guide</title>
<meta charset="utf-8">
<meta name="description" content="Spring - Quick Guide - Spring is the most popular application development framework for enterprise Java. Millions of developers around the world use Spring Framework to create high pe"/>
<meta name="keywords" content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Tutorials, Articles, Programming, training, learning, quiz, preferences, examples, code"/>
<link rel="canonical" href="https://www.tutorialspoint.com/spring/spring_quick_guide.htm" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<script src="/theme/js/script-min-v2.js?v=3"></script>
<link rel="stylesheet" href="/theme/css/style-min-v2.css?v=6">
<script src="//services.bilsyndication.com/adv1/?d=901" defer="" async=""></script>
<script> var vitag = vitag || {};</script>
<script> vitag.outStreamConfig = { enablePC: false, enableMobile: false };</script>  
<style>
.right-menu .mui-btn {
    background-color:#387b2c;
}
a.demo {
    background:#387b2c;
}
li.heading {
    background:#387b2c;
}
.course-box{background:#387b2c}
.home-intro-sub p{color:#387b2c}
</style>
</head>
<body>
<header id="header">
<!-- Top sub-menu Starts Here -->
<div class="mui-appbar mui-container-fulid top-menu">
<div class="mui-container">
<div class="top-menu-item home">
<a href="https://www.tutorialspoint.com/index.htm" target="_blank" title="TutorialsPoint - Home"><i class="fal fa-home"></i> <span>Home</span></a>
</div>
<div class="top-menu-item qa">
<a href="https://www.tutorialspoint.com/about/about_careers.htm" target="_blank" title="Job @ Tutorials Point"><i class="fa fa-suitcase"></i> <span>Jobs</span></a>
</div>
<div class="top-menu-item tools">
<a href="https://www.tutorialspoint.com/online_dev_tools.htm" target="_blank" title="Tools - Online Development and Testing Tools"><i class="fal fa-cogs"></i> <span>Tools</span></a>
</div>
<div class="top-menu-item coding-ground">
<a href="https://www.tutorialspoint.com/codingground.htm" target="_blank" title="Coding Ground - Free Online IDE and Terminal"><i class="fal fa-code"></i> <span>Coding Ground </span></a> 
</div>
<div class="top-menu-item current-affairs">
<a href="https://www.tutorialspoint.com/current_affairs.htm" target="_blank" title="Daily Current Affairs"><i class="fal fa-layer-plus"></i> <span>Current Affairs</span></a>
</div>
<div class="top-menu-item upsc-notes">
<a href="https://www.tutorialspoint.com/upsc_ias_exams.htm" target="_blank" title="UPSC IAS Exams Notes - TutorialsPoint"><i class="fal fa-user-tie"></i> <span>UPSC Notes</span></a>
</div>      
<div class="top-menu-item online-tutoris">
<a href="https://www.tutorialspoint.com/tutor_connect/index.php" target="_blank" title="Top Online Tutors - Tutor Connect"><i class="fal fa-user"></i> <span>Online Tutors</span></a>
</div>
<div class="top-menu-item whiteboard">
<a href="https://www.tutorialspoint.com/whiteboard.htm" target="_blank" title="Free Online Whiteboard"><i class="fal fa-chalkboard"></i> <span>Whiteboard</span></a>
</div>
<div class="top-menu-item net-meeting">
<a href="https://www.tutorialspoint.com/netmeeting.php" target="_blank" title="A free tool for online video conferencing"><i class="fal fa-chalkboard-teacher"></i> <span>Net Meeting</span></a> 
</div>
<div class="top-menu-item articles">
<a href="https://www.tutorix.com" target="_blank" title="Tutorx - The Best Learning App" rel="nofollow"><i class="fal fa-video"></i> <span>Tutorix</span></a> 
</div>        
<div class="social-menu-item">
<a href="https://www.facebook.com/tutorialspointindia" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Facebook"><i class="fab fa-facebook-f"></i></a> 
<a href="https://www.twitter.com/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Twitter"><i class="fab fa-twitter"></i></a>
<a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Linkedin"><i class="fab fa-linkedin-in"></i></a>
<a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint YouTube"><i class="fab fa-youtube"></i></a>
</div>        
</div>
</div>
<!-- Top sub-menu Ends Here -->
<!-- Top main-menu Starts Here -->
<div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
<div class="mui-container">
<div class="left-menu">
<a href="https://www.tutorialspoint.com/index.htm" title="Tutorialspoint">
<img class="tp-logo" alt="tutorialspoint" src="/spring/images/logo.png">
</a>
<div class="mui-dropdown">
<a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown"><i class="fa fa-th-large"></i> 
<span>Categories <span class="mui-caret"></span></span></a>            
<ul class="mui-dropdown__menu cat-menu">
<li>
<ul>
<li><a href="/academic_tutorials.htm"><i class="fa fa-caret-right"></i> Academic Tutorials</a></li>
<li><a href="/big_data_tutorials.htm"><i class="fa fa-caret-right"></i> Big Data &amp; Analytics </a></li>
<li><a href="/computer_programming_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Programming </a></li>
<li><a href="/computer_science_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Science </a></li>
<li><a href="/database_tutorials.htm"><i class="fa fa-caret-right"></i> Databases </a></li>
<li><a href="/devops_tutorials.htm"><i class="fa fa-caret-right"></i> DevOps </a></li>
<li><a href="/digital_marketing_tutorials.htm"><i class="fa fa-caret-right"></i> Digital Marketing </a></li>
<li><a href="/engineering_tutorials.htm"><i class="fa fa-caret-right"></i> Engineering Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> Exams Syllabus </a></li>
<li><a href="/famous_monuments.htm"><i class="fa fa-caret-right"></i> Famous Monuments </a></li>
<li><a href="/gate_exams_tutorials.htm"><i class="fa fa-caret-right"></i> GATE Exams Tutorials</a></li>
<li><a href="/latest_technologies.htm"><i class="fa fa-caret-right"></i> Latest Technologies </a></li>
<li><a href="/machine_learning_tutorials.htm"><i class="fa fa-caret-right"></i> Machine Learning </a></li>
<li><a href="/mainframe_tutorials.htm"><i class="fa fa-caret-right"></i> Mainframe Development </a></li>
<li><a href="/management_tutorials.htm"><i class="fa fa-caret-right"></i> Management Tutorials </a></li>
<li><a href="/maths_tutorials.htm"><i class="fa fa-caret-right"></i> Mathematics Tutorials</a></li>
<li><a href="/microsoft_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Microsoft Technologies </a></li>
<li><a href="/misc_tutorials.htm"><i class="fa fa-caret-right"></i> Misc tutorials </a></li>
<li><a href="/mobile_development_tutorials.htm"><i class="fa fa-caret-right"></i> Mobile Development </a></li>
<li><a href="/java_technology_tutorials.htm"><i class="fa fa-caret-right"></i> Java Technologies </a></li>
<li><a href="/python_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Python Technologies </a></li>
<li><a href="/sap_tutorials.htm"><i class="fa fa-caret-right"></i> SAP Tutorials </a></li>
<li><a href="/scripting_lnaguage_tutorials.htm"><i class="fa fa-caret-right"></i>Programming Scripts </a></li>
<li><a href="/selected_reading.htm"><i class="fa fa-caret-right"></i> Selected Reading </a></li>
<li><a href="/software_quality_tutorials.htm"><i class="fa fa-caret-right"></i> Software Quality </a></li>
<li><a href="/soft_skill_tutorials.htm"><i class="fa fa-caret-right"></i> Soft Skills </a></li>
<li><a href="/telecom_tutorials.htm"><i class="fa fa-caret-right"></i> Telecom Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> UPSC IAS Exams </a></li>
<li><a href="/web_development_tutorials.htm"><i class="fa fa-caret-right"></i> Web Development </a></li>
<li><a href="/sports_tutorials.htm"><i class="fa fa-caret-right"></i> Sports Tutorials </a></li>
<li><a href="/xml_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> XML Technologies </a></li>
<li><a href="/multi_language_tutorials.htm"><i class="fa fa-caret-right"></i> Multi-Language Tutorials</a></li>
<li><a href="/questions_and_answers.htm"><i class="fa fa-caret-right"></i> Interview Questions</a></li>
</ul>
</li>
</ul>
<div class="clear"></div>
</div> 
</div>
<div class="right-menu">
<div class="toc-toggle">
<a href="javascript:void(0);"><i class="fa fa-bars"></i></a>
</div>
<div class="mobile-search-btn">
<a href="https://www.tutorialspoint.com/search.htm"><i class="fal fa-search"></i></a>
</div>
<div class="search-box">
<form method="get" class="" name="searchform" action="https://www.google.com/search" target="_blank" novalidate="">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com" class="user-valid valid">
<input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
<button><i class="fal fa-search"></i></button>
</form>
</div>
<div class="menu-btn library-btn">
<a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a>
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a> 
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/questions/index.php"><i class="fa fa-location-arrow"></i> <span>Q/A</span></a>
</div>
<div class="menu-btn ebooks-btn">
<a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a>
</div>
<div class="mui-dropdown">
<button class="mui-btn mui-btn--primary" data-mui-toggle="dropdown">
<span class="mui-caret"></span>
</button>
<ul class="mui-dropdown__menu">
<li><a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a></li>
<li><a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a></li>
<li><a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a></li>
</ul>
</div>
</div>
</div>
</div>
<!-- Top main-menu Ends Here -->
</header>
<div class="mui-container-fluid content">
<div class="mui-container">
<!-- Tutorial ToC Starts Here -->
<div class="mui-col-md-3 tutorial-toc">
<div class="mini-logo">
<img src="/spring/images/spring-mini-logo.jpg" alt="Spring Tutorial" />
</div>
<ul class="toc chapters">
<li class="heading">Spring Core Basics</li>
<li><a href="/spring/index.htm">Spring - Home</a></li>
<li><a href="/spring/spring_overview.htm">Spring - Overview</a></li>
<li><a href="/spring/spring_architecture.htm">Spring - Architecture</a></li>
<li><a href="/spring/spring_environment_setup.htm">Spring - Environment Setup</a></li>
<li><a href="/spring/spring_hello_world_example.htm">Spring - Hello World Example</a></li>
<li><a href="/spring/spring_ioc_containers.htm">Spring - IoC Containers</a></li>
<li><a href="/spring/spring_bean_definition.htm">Spring - Bean Definition</a></li>
<li><a href="/spring/spring_bean_scopes.htm">Spring - Bean Scopes</a></li>
<li><a href="/spring/spring_bean_life_cycle.htm">Spring - Bean Life Cycle</a></li>
<li><a href="/spring/spring_bean_post_processors.htm">Spring - Bean Post Processors</a></li>
<li><a href="/spring/spring_bean_definition_inheritance.htm">Spring - Bean Definition Inheritance</a></li>
<li><a href="/spring/spring_dependency_injection.htm">Spring - Dependency Injection</a></li>
<li><a href="/spring/spring_injecting_inner_beans.htm">Spring - Injecting Inner Beans</a></li>
<li><a href="/spring/spring_injecting_collection.htm">Spring - Injecting Collection</a></li>
<li><a href="/spring/spring_beans_autowiring.htm">Spring - Beans Auto-Wiring</a></li>
<li><a href="/spring/spring_annotation_based_configuration.htm">Annotation Based Configuration</a></li>
<li><a href="/spring/spring_java_based_configuration.htm">Spring - Java Based Configuration</a></li>
<li><a href="/spring/event_handling_in_spring.htm">Spring - Event Handling in Spring</a></li>
<li><a href="/spring/custom_events_in_spring.htm">Spring - Custom Events in Spring</a></li>
<li><a href="/spring/aop_with_spring.htm">Spring - AOP with Spring Framework</a></li>
<li><a href="/spring/spring_jdbc_framework.htm">Spring - JDBC Framework</a></li>
<li><a href="/spring/spring_transaction_management.htm">Spring - Transaction Management</a></li>
<li><a href="/spring/spring_web_mvc_framework.htm">Spring - Web MVC Framework</a></li>
<li><a href="/spring/logging_with_log4j.htm">Spring - Logging with Log4J</a></li>
</ul>
<ul class="toc chapters">
<li class="heading">Spring Questions and Answers</li>
<li><a href="/spring/spring_questions_answers.htm">Spring - Questions and Answers</a></li>
</ul>
<ul class="toc chapters">
<li class="heading">Spring Useful Resources</li>
<li><a href="/spring/spring_quick_guide.htm">Spring - Quick Guide</a></li>
<li><a href="/spring/spring_useful_resources.htm">Spring - Useful Resources</a></li>
<li><a href="/spring/spring_discussion.htm">Spring - Discussion</a></li>
</ul>
<ul class="toc reading">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="/upsc_ias_exams.htm">UPSC IAS Exams Notes</a></li>
<li><a target="_top" href="/developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="/questions_and_answers.htm">Questions and Answers</a></li>
<li><a target="_top" href="/effective_resume_writing.htm">Effective Resume Writing</a></li>
<li><a target="_top" href="/hr_interview_questions/index.htm">HR Interview Questions</a></li>
<li><a target="_top" href="/computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="/computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div>
<!-- Tutorial ToC Ends Here -->
<!-- Tutorial Content Starts Here -->
<div class="mui-col-md-6 tutorial-content">
<h1>Spring - Quick Guide</h1>
<hr />
<div class="top-ad-heading">Advertisements</div>
<div style="text-align: center;">
<script><!--
google_ad_client = "pub-7133395778201029";
var width = document.getElementsByClassName("tutorial-content")[0].clientWidth - 40;
google_ad_width = width;
google_ad_height = 150;
google_ad_format = width + "x150_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="mui-container-fluid button-borders">
<div class="pre-btn">
<a href="/spring/spring_questions_answers.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/spring/spring_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="clearer"></div>
<h1>Spring Framework - Overview</h1>
<p>Spring is the most popular application development framework for enterprise Java. Millions of developers around the world use Spring Framework to create high performing, easily testable, and reusable code.</p> 
<p>Spring framework is an open source Java platform. It was initially written by Rod Johnson and was first released under the Apache 2.0 license in June 2003.</p> 
<p>Spring is lightweight when it comes to size and transparency. The basic version of Spring framework is around 2MB.</p> 
<p>The core features of the Spring Framework can be used in developing any Java application, but there are extensions for building web applications on top of the Java EE platform. Spring framework targets to make J2EE development easier to use and promotes good programming practices by enabling a POJO-based programming model.</p>
<h2>Benefits of Using the Spring Framework</h2>
<p>Following is the list of few of the great benefits of using Spring Framework &minus;</p>
<ul class="list">
<li><p>Spring enables developers to develop enterprise-class applications using POJOs. The benefit of using only POJOs is that you do not need an EJB container product such as an application server but you have the option of using only a robust servlet container such as Tomcat or some commercial product.</p></li>
<li><p>Spring is organized in a modular fashion. Even though the number of packages and classes are substantial, you have to worry only about the ones you need and ignore the rest.</p></li>
<li><p>Spring does not reinvent the wheel, instead it truly makes use of some of the existing technologies like several ORM frameworks, logging frameworks, JEE, Quartz and JDK timers, and other view technologies.</p></li>
<li><p>Testing an application written with Spring is simple because environment-dependent code is moved into this framework. Furthermore, by using JavaBeanstyle POJOs, it becomes easier to use dependency injection for injecting test data.</p></li>
<li><p>Spring's web framework is a well-designed web MVC framework, which provides a great alternative to web frameworks such as Struts or other over-engineered or less popular web frameworks.</p></li>
<li><p>Spring provides a convenient API to translate technology-specific exceptions (thrown by JDBC, Hibernate, or JDO, for example) into consistent, unchecked exceptions.</p></li>
<li><p>Lightweight IoC containers tend to be lightweight, especially when compared to EJB containers, for example. This is beneficial for developing and deploying applications on computers with limited memory and CPU resources.</p></li>
<li><p>Spring provides a consistent transaction management interface that can scale down to a local transaction (using a single database, for example) and scale up to global transactions (using JTA, for example).</p></li>
</ul>
<h2>Dependency Injection (DI)</h2>
<p>The technology that Spring is most identified with is the <b>Dependency Injection (DI)</b> flavor of Inversion of Control. The <b>Inversion of Control (IoC)</b> is a general concept, and it can be expressed in many different ways. Dependency Injection is merely one concrete example of Inversion of Control.</p>
<p>When writing a complex Java application, application classes should be as independent as possible of other Java classes to increase the possibility to reuse these classes and to test them independently of other classes while unit testing. Dependency Injection helps in gluing these classes together and at the same time keeping them independent.</p>
<p>What is dependency injection exactly? Let's look at these two words separately. Here the dependency part translates into an association between two classes. For example, class A is dependent of class B. Now, let's look at the second part, injection. All this means is, class B will get injected into class A by the IoC.</p>
<p>Dependency injection can happen in the way of passing parameters to the constructor or by post-construction using setter methods. As Dependency Injection is the heart of Spring Framework, we will explain this concept in a separate chapter with relevant example.</p>
<h2>Aspect Oriented Programming (AOP)</h2>
<p>One of the key components of Spring is the <b>Aspect Oriented Programming (AOP)</b> framework. The functions that span multiple points of an application are called <b>cross-cutting concerns</b> and these cross-cutting concerns are conceptually separate from the application's business logic. There are various common good examples of aspects including logging, declarative transactions, security, caching, etc.</p>
<p>The key unit of modularity in OOP is the class, whereas in AOP the unit of modularity is the aspect. DI helps you decouple your application objects from each other, while AOP helps you decouple cross-cutting concerns from the objects that they affect.</p> 
<p>The AOP module of Spring Framework provides an aspect-oriented programming implementation allowing you to define method-interceptors and pointcuts to cleanly decouple code that implements functionality that should be separated. We will discuss more about Spring AOP concepts in a separate chapter.</p>
<h1>Spring Framework - Architecture</h1>
<p>Spring could potentially be a one-stop shop for all your enterprise applications. However, Spring is modular, allowing you to pick and choose which modules are applicable to you, without having to bring in the rest. The following section provides details about all the modules available in Spring Framework.</p> 
<p>The Spring Framework provides about 20 modules which can be used based on an application requirement.</p>
<img src="/spring/images/spring_architecture.png" alt="Spring Framework Architecture" />
<h2>Core Container</h2>
<p>The Core Container consists of the Core, Beans, Context, and Expression Language modules the details of which are as follows &minus;</p>
<ul class="list">
<li><p>The <b>Core</b> module provides the fundamental parts of the framework, including the IoC and Dependency Injection features.</p></li>
<li><p>The <b>Bean</b> module provides BeanFactory, which is a sophisticated implementation of the factory pattern.</p></li>
<li><p>The <b>Context</b> module builds on the solid base provided by the Core and Beans modules and it is a medium to access any objects defined and configured. The ApplicationContext interface is the focal point of the Context module.</p></li>
<li><p>The <b>SpEL</b> module provides a powerful expression language for querying and manipulating an object graph at runtime.</p></li>
</ul>
<h2>Data Access/Integration</h2>
<p>The Data Access/Integration layer consists of the JDBC, ORM, OXM, JMS and Transaction modules whose detail is as follows &minus;</p>
<ul class="list">
<li><p>The <b>JDBC</b> module provides a JDBC-abstraction layer that removes the need for tedious JDBC related coding.</p></li>
<li><p>The <b>ORM</b> module provides integration layers for popular object-relational mapping APIs, including JPA, JDO, Hibernate, and iBatis.</p></li>
<li><p>The <b>OXM</b> module provides an abstraction layer that supports Object/XML mapping implementations for JAXB, Castor, XMLBeans, JiBX and XStream.</p></li>
<li><p>The Java Messaging Service <b>JMS</b> module contains features for producing and consuming messages.</p></li>
<li><p>The <b>Transaction</b> module supports programmatic and declarative transaction management for classes that implement special interfaces and for all your POJOs.</p></li>
</ul>
<h2>Web</h2>
<p>The Web layer consists of the Web, Web-MVC, Web-Socket, and Web-Portlet modules the details of which are as follows &minus;</p>
<ul class="list">
<li><p>The <b>Web</b> module provides basic web-oriented integration features such as multipart file-upload functionality and the initialization of the IoC container using servlet listeners and a web-oriented application context.</p></li>
<li><p>The <b>Web-MVC</b> module contains Spring's Model-View-Controller (MVC) implementation for web applications.</p></li>
<li><p>The <b>Web-Socket</b> module provides support for WebSocket-based, two-way communication between the client and the server in web applications.</p></li>
<li><p>The <b>Web-Portlet</b> module provides the MVC implementation to be used in a portlet environment and mirrors the functionality of Web-Servlet module.</p></li>
</ul>
<h2>Miscellaneous</h2>
<p>There are few other important modules like AOP, Aspects, Instrumentation, Web and Test modules the details of which are as follows &minus;</p>
<ul class="list">
<li><p>The <b>AOP</b> module provides an aspect-oriented programming implementation allowing you to define method-interceptors and pointcuts to cleanly decouple code that implements functionality that should be separated.</p></li>
<li><p>The <b>Aspects</b> module provides integration with AspectJ, which is again a powerful and mature AOP framework.</p></li>
<li><p>The <b>Instrumentation</b> module provides class instrumentation support and class loader implementations to be used in certain application servers.</p></li>
<li><p>The <b>Messaging</b> module provides support for STOMP as the WebSocket sub-protocol to use in applications. It also supports an annotation programming model for routing and processing STOMP messages from WebSocket clients.</p></li>
<li><p>The <b>Test</b> module supports the testing of Spring components with JUnit or TestNG frameworks.</p></li>
</ul>
<h1>Spring - Environment Setup</h1>
<p>This chapter will guide you on how to prepare a development environment to start your work with Spring Framework. It will also teach you how to set up JDK, Tomcat and Eclipse on your machine before you set up Spring Framework &minus;</p>
<h2>Step 1 - Setup Java Development Kit (JDK)</h2>
<p>You can download the latest version of SDK from Oracle's Java site &minus; <a rel="nofollow" href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java SE Downloads.</a> You will find instructions for installing JDK in downloaded files, follow the given instructions to install and configure the setup. Finally set PATH and JAVA_HOME environment variables to refer to the directory that contains java and javac, typically java_install_dir/bin and java_install_dir respectively.</p>
<p>If you are running Windows and have installed the JDK in C:\jdk1.6.0_15, you would have to put the following line in your C:\autoexec.bat file.</p>
<pre class="result notranslate">
set PATH=C:\jdk1.6.0_15\bin;%PATH% 
set JAVA_HOME=C:\jdk1.6.0_15 
</pre>
<p>Alternatively, on Windows NT/2000/XP, you will have to right-click on My Computer, select Properties &rarr; Advanced &rarr; Environment Variables. Then, you will have to update the PATH value and click the OK button.</p>
<p>On Unix (Solaris, Linux, etc.), if the SDK is installed in /usr/local/jdk1.6.0_15 and you use the C shell, you will have to put the following into your .cshrc file.</p>
<pre class="result notranslate">
setenv PATH /usr/local/jdk1.6.0_15/bin:$PATH 
setenv JAVA_HOME /usr/local/jdk1.6.0_15 
</pre>
<p>Alternatively, if you use an Integrated Development Environment (IDE) like Borland JBuilder, Eclipse, IntelliJ IDEA, or Sun ONE Studio, you will have to compile and run a simple program to confirm that the IDE knows where you have installed Java. Otherwise, you will have to carry out a proper setup as given in the document of the IDE.</p>
<h2>Step 2 - Install Apache Common Logging API</h2>
<p>You can download the latest version of Apache Commons Logging API from <a rel="nofollow" href="https://commons.apache.org/logging/download_logging.cgi" target="_blank">https://commons.apache.org/logging/</a>. Once you download the installation, unpack the binary distribution into a convenient location. For example, in C:\commons-logging-1.1.1 on Windows, or /usr/local/commons-logging-1.1.1 on Linux/Unix. This directory will have the following jar files and other supporting documents, etc.</p>
<img src="/spring/images/common_logging_files.jpg" alt="Common Logging API" />
<p>Make sure you set your CLASSPATH variable on this directory properly otherwise you will face a problem while running your application.</p>
<h2>Step 3 - Setup Eclipse IDE</h2>
<p>All the examples in this tutorial have been written using Eclipse IDE. So we would suggest you should have the latest version of Eclipse installed on your machine.</p>
<p>To install Eclipse IDE, download the latest Eclipse binaries from <a rel="nofollow" target="_blank" href="https://www.eclipse.org/downloads/">https://www.eclipse.org/downloads/</a>. Once you download the installation, unpack the binary distribution into a convenient location. For example, in C:\eclipse on Windows, or /usr/local/eclipse on Linux/Unix and finally set PATH variable appropriately.</p>
<p>Eclipse can be started by executing the following commands on Windows machine, or you can simply double-click on eclipse.exe</p>
<pre class="result notranslate">
%C:\eclipse\eclipse.exe 
</pre>
<p>Eclipse can be started by executing the following commands on Unix (Solaris, Linux, etc.) machine &minus;</p>
<pre class="result notranslate">
$/usr/local/eclipse/eclipse
</pre>
<p>After a successful startup, if everything is fine then it should display the following result &minus;</p>
<img src="/spring/images/eclipsehomepage.jpg" alt="Eclipse Home page" />
<h2>Step 4 - Setup Spring Framework Libraries</h2>
<p>Now if everything is fine, then you can proceed to set up your Spring framework. Following are the simple steps to download and install the framework on your machine.</p>
<ul class="list">
<li><p>Make a choice whether you want to install Spring on Windows or Unix, and then proceed to the next step to download .zip file for Windows and .tz file for Unix.</p></li>
<li><p>Download the latest version of Spring framework binaries from <a target="_blank" rel="nofollow" href="https://repo.spring.io/release/org/springframework/spring"> https://repo.spring.io/release/org/springframework/spring</a>.</p></li>
<li><p>At the time of developing this tutorial, <b>spring-framework-4.1.6.RELEASE-dist.zip</b> was downloaded on Windows machine. After the downloaded file was unzipped, it gives the following directory structure inside E:\spring.</p></li>
</ul>
<img src="/spring/images/spring_directories.jpg" alt="Spring Directories" />
<p>You will find all the Spring libraries in the directory <b>E:\spring\libs</b>. Make sure you set your CLASSPATH variable on this directory properly otherwise you will face a problem while running your application. If you are using Eclipse, then it is not required to set CLASSPATH because all the setting will be done through Eclipse.</p>
<p>Once you are done with this last step, you are ready to proceed to your first Spring Example in the next chapter.</p>
<h1>Spring - Hello World Example</h1>
<p>Let us start actual programming with Spring Framework. Before you start writing your first example using Spring framework, you have to make sure that you have set up your Spring environment properly as explained in <a href="/spring/spring_environment_setup.htm">Spring - Environment Setup</a> Chapter. We also assume that you have a bit of working knowledge on Eclipse IDE.</p>
<p>Now let us proceed to write a simple Spring Application, which will print "Hello World!" or any other message based on the configuration done in Spring Beans Configuration file.</p>
<h2>Step 1 - Create Java Project</h2>
<p>The first step is to create a simple Java Project using Eclipse IDE. Follow the option <b>File &rarr; New &rarr; Project</b> and finally select <b>Java Project</b> wizard from the wizard list. Now name your project as <b>HelloSpring</b> using the wizard window as follows &minus;</p>
<img src="/spring/images/hello_spring_wizard.jpg" alt="Hello Spring Wizard" />
<p>Once your project is created successfully, you will have the following content in your <b>Project Explorer</b> &minus;</p>
<img src="/spring/images/hello_spring_dir.jpg" alt="Hello Spring Directories" />
<h2>Step 2 - Add Required Libraries</h2>
<p>As a second step let us add Spring Framework and common logging API libraries in our project. To do this, right-click on your project name <b>HelloSpring</b>  and then follow the following option available in the context menu &minus; <b>Build Path &rarr; Configure Build Path</b> to display the Java Build Path window as follows &minus;</p>
<img src="/spring/images/java_build_path.jpg" alt="Java Build Path" />
<p>Now use <b>Add External JARs</b> button available under the <b>Libraries</b> tab to add the following core JARs from Spring Framework and Common Logging installation directories &minus;</p>
<ul class="list">
<li><p>commons-logging-1.1.1</p></li>
<li><p>spring-aop-4.1.6.RELEASE</p></li>
<li><p>spring-aspects-4.1.6.RELEASE</p></li>
<li><p>spring-beans-4.1.6.RELEASE</p></li>
<li><p>spring-context-4.1.6.RELEASE</p></li>
<li><p>spring-context-support-4.1.6.RELEASE</p></li>
<li><p>spring-core-4.1.6.RELEASE</p></li>
<li><p>spring-expression-4.1.6.RELEASE</p></li>
<li><p>spring-instrument-4.1.6.RELEASE</p></li>
<li><p>spring-instrument-tomcat-4.1.6.RELEASE</p></li>
<li><p>spring-jdbc-4.1.6.RELEASE</p></li>
<li><p>spring-jms-4.1.6.RELEASE</p></li>
<li><p>spring-messaging-4.1.6.RELEASE</p></li>
<li><p>spring-orm-4.1.6.RELEASE</p></li>
<li><p>spring-oxm-4.1.6.RELEASE</p></li>
<li><p>spring-test-4.1.6.RELEASE</p></li>
<li><p>spring-tx-4.1.6.RELEASE</p></li>
<li><p>spring-web-4.1.6.RELEASE</p></li>
<li><p>spring-webmvc-4.1.6.RELEASE</p></li>
<li><p>spring-webmvc-portlet-4.1.6.RELEASE</p></li>
<li><p>spring-websocket-4.1.6.RELEASE</p></li>
</ul>
<h2>Step 3 - Create Source Files</h2>
<p>Now let us create actual source files under the <b>HelloSpring</b> project. First we need to create a package called <b>com.tutorialspoint</b>. To do this, right click on <b>src</b> in package explorer section and follow the option &minus; <b>New &rarr; Package</b>.</p>
<p>Next we will create <b>HelloWorld.java</b> and <b>MainApp.java</b> files under the com.tutorialspoint package.</p>
<img src="/spring/images/spring_source_files.jpg" alt="Spring Source Files" />
<p>Here is the content of <b>HelloWorld.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message;

   public void setMessage(String message){
      this.message  = message;
   }
   public void getMessage(){
      System.out.println("Your Message : " + message);
   }
}
</pre> 
<p>Following is the content of the second file <b>MainApp.java</b> &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      HelloWorld obj = (HelloWorld) context.getBean("helloWorld");
      obj.getMessage();
   }
}
</pre> 
<p>Following two important points are to be noted about the main program &minus;</p>
<ul class="list">
<li><p>The first step is to create an application context where we used framework API <b>ClassPathXmlApplicationContext()</b>. This API loads beans configuration file and eventually based on the provided API, it takes care of creating and initializing all the objects, i.e. beans mentioned in the configuration file.</p></li>
<li><p>The second step is used to get the required bean using <b>getBean()</b> method of the created context. This method uses bean ID to return a generic object, which finally can be casted to the actual object. Once you have an object, you can use this object to call any class method.</p></li>
</ul>
<h2>Step 4 - Create Bean Configuration File</h2>
<p>You need to create a Bean Configuration file which is an XML file and acts as a cement that glues the beans, i.e. the classes together. This file needs to be created under the <b>src</b> directory as shown in the following screenshot &minus;</p>
<img src="/spring/images/beans_conf_file.jpg" alt="Beans Configuration File" />
<p>Usually developers name this file as <b>Beans.xml</b>, but you are independent to choose any name you like. You have to make sure that this file is available in CLASSPATH and use the same name in the main application while creating an application context as shown in MainApp.java file.</p>
<p>The Beans.xml is used to assign unique IDs to different beans and to control the creation of objects with different values without impacting any of the Spring source files. For example, using the following file you can pass any value for "message" variable and you can print different values of message without impacting HelloWorld.java and MainApp.java files. Let us see how it works &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld"&gt;
      &lt;property name = "message" value = "Hello World!"/&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre> 
<p>When Spring application gets loaded into the memory, Framework makes use of the above configuration file to create all the beans defined and assigns them a unique ID as defined in <b>&lt;bean&gt;</b> tag. You can use <b>&lt;property&gt;</b> tag to pass the values of different variables used at the time of object creation.</p>
<h2>Step 5 - Running the Program</h2>
<p>Once you are done with creating the source and beans configuration files, you are ready for this step, which is compiling and running your program. To do this, keep MainApp.Java file tab active and use either <b>Run</b> option available in the Eclipse IDE or use <b>Ctrl + F11</b> to compile and run your <b>MainApp</b> application. If everything is fine with your application, this will print the following message in Eclipse IDE's console &minus;</p>
<pre class="result notranslate">
Your Message : Hello World!
</pre> 
<p>Congratulations, you have successfully created your first Spring Application. You can see the flexibility of the above Spring application by changing the value of "message" property and keeping both the source files unchanged.</p>
<h1>Spring - IoC Containers</h1>
<p>The Spring container is at the core of the Spring Framework. The container will create the objects, wire them together, configure them, and manage their complete life cycle from creation till destruction. The Spring container uses DI to manage the components that make up an application. These objects are called Spring Beans, which we will discuss in the next chapter.</p> 
<p>The container gets its instructions on what objects to instantiate, configure, and assemble by reading the configuration metadata provided. The configuration metadata can be represented either by XML, Java annotations, or Java code. The following diagram represents a high-level view of how Spring works. The Spring IoC container makes use of Java POJO classes and configuration metadata to produce a fully configured and executable system or application.</p>
<img src="/spring/images/spring_ioc_container.jpg" alt="Spring IoC Container" />
<p>Spring provides the following two distinct types of containers.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Container &amp; Description</th></tr>
<tr>
<td class="ts">1</td>
<td><a href="/spring/spring_beanfactory_container.htm">Spring BeanFactory Container</a>
<p>This is the simplest container providing the basic support for DI and is defined by the <i>org.springframework.beans.factory.BeanFactory</i> interface. The BeanFactory and related interfaces, such as BeanFactoryAware, InitializingBean, DisposableBean, are still present in Spring for the purpose of backward compatibility with a large number of third-party frameworks that integrate with Spring.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td><a href="/spring/spring_applicationcontext_container.htm">Spring ApplicationContext Container</a>
<p>This container adds more enterprise-specific functionality such as the ability to resolve textual messages from a properties file and the ability to publish application events to interested event listeners. This container is defined by the <i>org.springframework.context.ApplicationContext</i> interface.</p>
</td>
</tr>
</table>
<p>The <i>ApplicationContext</i> container includes all functionality of the <i>BeanFactory</i>container, so it is generally recommended over <i>BeanFactory</i>. BeanFactory can still be used for lightweight applications like mobile devices or applet-based applications where data volume and speed is significant.</p>
<h1>Spring - Bean Definition</h1>
<p>The objects that form the backbone of your application and that are managed by the Spring IoC container are called <b>beans</b>. A bean is an object that is instantiated, assembled, and otherwise managed by a Spring IoC container. These beans are created with the configuration metadata that you supply to the container. For example, in the form of XML &lt;bean/&gt; definitions which you have already seen in the previous chapters.</p>
<p>Bean definition contains the information called <b>configuration metadata</b>, which is needed for the container to know the following &minus;</p>
<ul class="list">
<li>How to create a bean</li>
<li>Bean's lifecycle details</li>
<li>Bean's dependencies</li>
</ul>
<p>All the above configuration metadata translates into a set of the following properties that make up each bean definition.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Properties &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>class</b></p>
<p>This attribute is mandatory and specifies the bean class to be used to create the bean.</p>
</td>
<tr>
<td class="ts">2</td>
<td>
<p><b>name</b></p>
<p>This attribute specifies the bean identifier uniquely. In XMLbased configuration metadata, you use the id and/or name attributes to specify the bean identifier(s).</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>scope</b></p>
<p>This attribute specifies the scope of the objects created from a particular bean definition and it will be discussed in bean scopes chapter.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>constructor-arg</b></p>
<p>This is used to inject the dependencies and will be discussed in subsequent chapters.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>properties</b></p>
<p>This is used to inject the dependencies and will be discussed in subsequent chapters.</p>
</td>
</tr>
<tr>
<td class="ts">6</td>
<td>
<p><b>autowiring mode</b></p>
<p>This is used to inject the dependencies and will be discussed in subsequent chapters.</p>
</td>
</tr>
<tr>
<td class="ts">7</td>
<td>
<p><b>lazy-initialization mode</b></p>
<p>A lazy-initialized bean tells the IoC container to create a bean instance when it is first requested, rather than at the startup.</p>
</td>
</tr>
<tr>
<td class="ts">8</td>
<td>
<p><b>initialization method</b></p>
<p>A callback to be called just after all necessary properties on the bean have been set by the container. It will be discussed in bean life cycle chapter.</p>
</td>
</tr>
<tr>
<td class="ts">9</td>
<td>
<p><b>destruction method</b></p>
<p>A callback to be used when the container containing the bean is destroyed. It will be discussed in bean life cycle chapter.</p>
</td>
</tr>
</table>
<h2>Spring Configuration Metadata</h2>
<p>Spring IoC container is totally decoupled from the format in which this configuration metadata is actually written. Following are the three important methods to provide configuration metadata to the Spring Container &minus;</p>
<ul class="list">
<li>XML based configuration file.</li>
<li>Annotation-based configuration</li>
<li>Java-based configuration</li>
</ul>
<p>You already have seen how XML-based configuration metadata is provided to the container, but let us see another sample of XML-based configuration file with different bean definitions including lazy initialization, initialization method, and destruction method &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;!-- A simple bean definition --&gt;
   &lt;bean id = "..." class = "..."&gt;
      &lt;!-- collaborators and configuration for this bean go here --&gt;
   &lt;/bean&gt;

   &lt;!-- A bean definition with lazy init set on --&gt;
   &lt;bean id = "..." class = "..." lazy-init = "true"&gt;
      &lt;!-- collaborators and configuration for this bean go here --&gt;
   &lt;/bean&gt;

   &lt;!-- A bean definition with initialization method --&gt;
   &lt;bean id = "..." class = "..." init-method = "..."&gt;
      &lt;!-- collaborators and configuration for this bean go here --&gt;
   &lt;/bean&gt;

   &lt;!-- A bean definition with destruction method --&gt;
   &lt;bean id = "..." class = "..." destroy-method = "..."&gt;
      &lt;!-- collaborators and configuration for this bean go here --&gt;
   &lt;/bean&gt;

   &lt;!-- more bean definitions go here --&gt;
   
&lt;/beans&gt;
</pre> 
<p>You can check <a href="/spring/spring_hello_world_example.htm">Spring Hello World Example</a> to understand how to define, configure and create Spring Beans.</p>
<p>We will discuss about Annotation Based Configuration in a separate chapter. It is intentionally discussed in a separate chapter as we want you to grasp a few other important Spring concepts, before you start programming with Spring Dependency Injection with Annotations.</p>
<h1>Spring - Bean Scopes</h1>
<p>When defining a &lt;bean&gt;  you have the option of declaring a scope for that bean. For example, to force Spring to produce a new bean instance each time one is needed, you should declare the bean's scope attribute to be <b>prototype</b>. Similarly, if you want Spring to return the same bean instance each time one is needed, you should declare the bean's scope attribute to be <b>singleton</b>.</p>
<p>The Spring Framework supports the following five scopes, three of which are available only if you use a web-aware ApplicationContext.</p>
<table class="table table-bordered">
<tr>
<th class="ts">Sr.No.</th>
<th class="ts">Scope &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>singleton</b></p>
<p>This scopes the bean definition to a single instance per Spring IoC container (default).</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>prototype</b></p>
<p>This scopes a single bean definition to have any number of object instances.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>request</b></p>
<p>This scopes a bean definition to an HTTP request. Only valid in the context of a web-aware Spring ApplicationContext.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>session</b></p>
This scopes a bean definition to an HTTP session. Only valid in the context of a web-aware Spring ApplicationContext.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>global-session</b></p>
<p>This scopes a bean definition to a global HTTP session. Only valid in the context of a web-aware Spring ApplicationContext.</p>
</td>
</tr>
</table>
<p>In this chapter, we will discuss about the first two scopes and the remaining three will be discussed when we discuss about web-aware Spring ApplicationContext.</p>
<h2>The singleton scope</h2>
<p>If a scope is set to singleton, the Spring IoC container creates exactly one instance of the object defined by that bean definition. This single instance is stored in a cache of such singleton beans, and all subsequent requests and references for that named bean return the cached object.</p>
<p>The default scope is always singleton. However, when you need one and only one instance of a bean, you can set the <b>scope </b> property to <b>singleton</b> in the bean configuration file, as shown in the following code snippet &minus;</p>
<pre class="prettyprint notranslate">
&lt;!-- A bean definition with singleton scope --&gt;
&lt;bean id = "..." class = "..." scope = "singleton"&gt;
   &lt;!-- collaborators and configuration for this bean go here --&gt;
&lt;/bean&gt;
</pre> 
<h3>Example</h3>
<p>Let us have a working Eclipse IDE in place and take the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Create Java classes <i>HelloWorld</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>HelloWorld.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message;

   public void setMessage(String message){
      this.message  = message;
   }
   public void getMessage(){
      System.out.println("Your Message : " + message);
   }
}
</pre> 
<p>Following is the content of the <b>MainApp.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      HelloWorld objA = (HelloWorld) context.getBean("helloWorld");

      objA.setMessage("I&apos;m object A");
      objA.getMessage();

      HelloWorld objB = (HelloWorld) context.getBean("helloWorld");
      objB.getMessage();
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b> required for singleton scope &minus;</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld" scope = "singleton"&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
Your Message : I&apos;m object A
Your Message : I&apos;m object A
</pre> 
<h2>The prototype scope</h2>
<p>If the scope is set to prototype, the Spring IoC container creates a new bean instance of the object every time a request for that specific bean is made. As a rule, use the prototype scope for all state-full beans and the singleton scope for stateless beans.</p>
<p>To define a prototype scope, you can set the <b>scope</b> property to <b>prototype</b> in the bean configuration file, as shown in the following code snippet &minus;</p>
<pre class="prettyprint notranslate">
&lt;!-- A bean definition with prototype scope --&gt;
&lt;bean id = "..." class = "..." scope = "prototype"&gt;
   &lt;!-- collaborators and configuration for this bean go here --&gt;
&lt;/bean&gt;
</pre> 
<h3>Example</h3>
<p>Let us have working Eclipse IDE in place and follow the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Create Java classes <i>HelloWorld</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>HelloWorld.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message;

   public void setMessage(String message){
      this.message  = message;
   }
   public void getMessage(){
      System.out.println("Your Message : " + message);
   }
}
</pre> 
<p>Following is the content of the <b>MainApp.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      HelloWorld objA = (HelloWorld) context.getBean("helloWorld");

      objA.setMessage("I&apos;m object A");
      objA.getMessage();

      HelloWorld objB = (HelloWorld) context.getBean("helloWorld");
      objB.getMessage();
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b> required for prototype scope &minus;</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld" scope = "prototype"&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
Your Message : I&apos;m object A
Your Message : null
</pre> 
<h1>Spring - Bean Life Cycle</h1>
<p>The life cycle of a Spring bean is easy to understand. When a bean is instantiated, it may be required to perform some initialization to get it into a usable state. Similarly, when the bean is no longer required and is removed from the container, some cleanup may be required.</p> 
<p>Though, there are lists of the activities that take place behind the scene between the time of bean Instantiation and its destruction, this chapter will discuss only two important bean life cycle callback methods, which are required at the time of bean initialization and its destruction.</p>
<p>To define setup and teardown for a bean, we simply declare the &lt;bean&gt; with <b>initmethod</b> and/or <b>destroy-method</b> parameters. The init-method attribute specifies a method that is to be called on the bean immediately upon instantiation. Similarly, destroymethod specifies a method that is called just before a bean is removed from the container.</p>
<h2>Initialization callbacks</h2>
<p>The org.springframework.beans.factory.InitializingBean interface specifies a single method &minus;</p>
<pre class="result notranslate">
void afterPropertiesSet() throws Exception;
</pre> 
<p>Thus, you can simply implement the above interface and initialization work can be done inside afterPropertiesSet() method as follows &minus;</p>
<pre class="prettyprint notranslate">
public class ExampleBean implements InitializingBean {
   public void afterPropertiesSet() {
      // do some initialization work
   }
}
</pre> 
<p>In the case of XML-based configuration metadata, you can use the <b>init-method</b> attribute to specify the name of the method that has a void no-argument signature. For example &minus;</p>
<pre class="result notranslate">
&lt;bean id = "exampleBean" class = "examples.ExampleBean" init-method = "init"/&gt;
</pre> 
<p>Following is the class definition &minus;</p>
<pre class="prettyprint notranslate">
public class ExampleBean {
   public void init() {
      // do some initialization work
   }
}
</pre> 
<h2>Destruction callbacks</h2>
<p>The <i>org.springframework.beans.factory.DisposableBean</i> interface specifies a single method &minus;</p>
<pre class="result notranslate">
void destroy() throws Exception;
</pre> 
<p>Thus, you can simply implement the above interface and finalization work can be done inside destroy() method as follows &minus;</p>
<pre class="prettyprint notranslate">
public class ExampleBean implements DisposableBean {
   public void destroy() {
      // do some destruction work
   }
}
</pre> 
<p>In the case of XML-based configuration metadata, you can use the <b>destroy-method</b> attribute to specify the name of the method that has a void no-argument signature. For example &minus;</p>
<pre class="result notranslate">
&lt;bean id = "exampleBean" class = "examples.ExampleBean" destroy-method = "destroy"/&gt;
</pre> 
<p>Following is the class definition &minus;</p>
<pre class="prettyprint notranslate">
public class ExampleBean {
   public void destroy() {
      // do some destruction work
   }
}
</pre> 
<p>If you are using Spring's IoC container in a non-web application environment; for example, in a rich client desktop environment, you register a shutdown hook with the JVM. Doing so ensures a graceful shutdown and calls the relevant destroy methods on your singleton beans so that all resources are released.</p>
<p>It is recommended that you do not use the InitializingBean or DisposableBean callbacks, because XML configuration gives much flexibility in terms of naming your method.</p>
<h3>Example</h3>
<p>Let us have a working Eclipse IDE in place and take the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Create Java classes <i>HelloWorld</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>HelloWorld.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message;

   public void setMessage(String message){
      this.message = message;
   }
   public void getMessage(){
      System.out.println("Your Message : " + message);
   }
   public void init(){
      System.out.println("Bean is going through init.");
   }
   public void destroy() {
      System.out.println("Bean will destroy now.");
   }
}
</pre> 
<p>Following is the content of the <b>MainApp.java</b> file. Here you need to register a shutdown hook <b>registerShutdownHook()</b> method that is declared on the AbstractApplicationContext class. This will ensure a graceful shutdown and call the relevant destroy methods.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.support.AbstractApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      AbstractApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");

      HelloWorld obj = (HelloWorld) context.getBean("helloWorld");
      obj.getMessage();
      context.registerShutdownHook();
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b> required for init and destroy methods &minus;</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld" init-method = "init" 
      destroy-method = "destroy"&gt;
      &lt;property name = "message" value = "Hello World!"/&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
Bean is going through init.
Your Message : Hello World!
Bean will destroy now.
</pre> 
<h2>Default initialization and destroy methods</h2>
<p>If you have too many beans having initialization and/or destroy methods with the same name, you don't need to declare <b>init-method</b> and <b>destroy-method</b> on each individual bean. Instead, the framework provides the flexibility to configure such situation using <b>default-init-method</b> and <b>default-destroy-method</b> attributes on the &lt;beans&gt; element as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"
   default-init-method = "init" 
   default-destroy-method = "destroy"&gt;

   &lt;bean id = "..." class = "..."&gt;
      &lt;!-- collaborators and configuration for this bean go here --&gt;
   &lt;/bean&gt;
   
&lt;/beans&gt;
</pre> 
<h1>Spring - Bean Post Processors</h1>
<p>The <b>BeanPostProcessor</b> interface defines callback methods that you can implement to provide your own instantiation logic, dependency-resolution logic, etc. You can also implement some custom logic after the Spring container finishes instantiating, configuring, and initializing a bean by plugging in one or more BeanPostProcessor implementations.</p>
<p>You can configure multiple BeanPostProcessor interfaces and you can control the order in which these BeanPostProcessor interfaces execute by setting the <b>order</b> property provided the BeanPostProcessor implements the <b>Ordered</b> interface.</p>
<p>The BeanPostProcessors operate on bean (or object) instances, which means that the Spring IoC container instantiates a bean instance and then BeanPostProcessor interfaces do their work.</p>
<p>An <b>ApplicationContext</b> automatically detects any beans that are defined with the implementation of the <b>BeanPostProcessor</b> interface and registers these beans as postprocessors, to be then called appropriately by the container upon bean creation.</p>
<h2>Example</h2>
<p>The following examples show how to write, register, and use BeanPostProcessors in the context of an ApplicationContext.</p>
<p>Let us have a working Eclipse IDE in place and take the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Create Java classes <i>HelloWorld</i>, <i>InitHelloWorld</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>HelloWorld.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message;

   public void setMessage(String message){
      this.message  = message;
   }
   public void getMessage(){
      System.out.println("Your Message : " + message);
   }
   public void init(){
      System.out.println("Bean is going through init.");
   }
   public void destroy(){
      System.out.println("Bean will destroy now.");
   }
}
</pre> 
<p>This is a very basic example of implementing BeanPostProcessor, which prints a bean name before and after initialization of any bean. You can implement more complex logic before and after intializing a bean because you have access on bean object inside both the post processor methods.</p>
<p>Here is the content of <b>InitHelloWorld.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.beans.factory.config.BeanPostProcessor;
import org.springframework.beans.BeansException;

public class InitHelloWorld implements BeanPostProcessor {
   public Object postProcessBeforeInitialization(Object bean, String beanName) 
      throws BeansException {
      
      System.out.println("BeforeInitialization : " + beanName);
      return bean;  // you can return any other object as well
   }
   public Object postProcessAfterInitialization(Object bean, String beanName) 
      throws BeansException {
      
      System.out.println("AfterInitialization : " + beanName);
      return bean;  // you can return any other object as well
   }
}
</pre> 
<p>Following is the content of the <b>MainApp.java</b> file. Here you need to register a shutdown hook <b>registerShutdownHook()</b> method that is declared on the AbstractApplicationContext class. This will ensures a graceful shutdown and calls the relevant destroy methods.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.support.AbstractApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      AbstractApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");

      HelloWorld obj = (HelloWorld) context.getBean("helloWorld");
      obj.getMessage();
      context.registerShutdownHook();
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b> required for init and destroy methods &minus;</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld"
      init-method = "init" destroy-method = "destroy"&gt;
      &lt;property name = "message" value = "Hello World!"/&gt;
   &lt;/bean&gt;

   &lt;bean class = "com.tutorialspoint.InitHelloWorld" /&gt;

&lt;/beans&gt;
</pre> 
<p>Once you are done with creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
BeforeInitialization : helloWorld
Bean is going through init.
AfterInitialization : helloWorld
Your Message : Hello World!
Bean will destroy now.
</pre>
<h1>Spring - Bean Definition Inheritance</h1>
<p>A bean definition can contain a lot of configuration information, including constructor arguments, property values, and container-specific information such as initialization method, static factory method name, and so on.</p> 
<p>A child bean definition inherits configuration data from a parent definition. The child definition can override some values, or add others, as needed.</p> 
<p>Spring Bean definition inheritance has nothing to do with Java class inheritance but the inheritance concept is same. You can define a parent bean definition as a template and other child beans can inherit the required configuration from the parent bean.</p>
<p>When you use XML-based configuration metadata, you indicate a child bean definition by using the <b>parent</b> attribute, specifying the parent bean as the value of this attribute.</p>
<h2>Example</h2>
<p>Let us have a working Eclipse IDE in place and take the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Create Java classes <i>HelloWorld</i>, <i>HelloIndia</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Following is the configuration file <b>Beans.xml</b> where we defined "helloWorld" bean which has two properties <i>message1</i> and <i>message2</i>. Next "helloIndia" bean has been defined as a child of "helloWorld" bean by using <b>parent</b> attribute. The child bean inherits <i>message2</i> property as is, and overrides <i>message1</i> property and introduces one more property <i>message3</i>.</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld"&gt;
      &lt;property name = "message1" value = "Hello World!"/&gt;
      &lt;property name = "message2" value = "Hello Second World!"/&gt;
   &lt;/bean&gt;

   &lt;bean id ="helloIndia" class = "com.tutorialspoint.HelloIndia" parent = "helloWorld"&gt;
      &lt;property name = "message1" value = "Hello India!"/&gt;
      &lt;property name = "message3" value = "Namaste India!"/&gt;
   &lt;/bean&gt;
&lt;/beans&gt;
</pre> 
<p>Here is the content of <b>HelloWorld.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message1;
   private String message2;

   public void setMessage1(String message){
      this.message1 = message;
   }
   public void setMessage2(String message){
      this.message2 = message;
   }
   public void getMessage1(){
      System.out.println("World Message1 : " + message1);
   }
   public void getMessage2(){
      System.out.println("World Message2 : " + message2);
   }
}
</pre> 
<p>Here is the content of <b>HelloIndia.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloIndia {
   private String message1;
   private String message2;
   private String message3;

   public void setMessage1(String message){
      this.message1 = message;
   }
   public void setMessage2(String message){
      this.message2 = message;
   }
   public void setMessage3(String message){
      this.message3 = message;
   }
   public void getMessage1(){
      System.out.println("India Message1 : " + message1);
   }
   public void getMessage2(){
      System.out.println("India Message2 : " + message2);
   }
   public void getMessage3(){
      System.out.println("India Message3 : " + message3);
   }
}
</pre> 
<p>Following is the content of the <b>MainApp.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      
      HelloWorld objA = (HelloWorld) context.getBean("helloWorld");
      objA.getMessage1();
      objA.getMessage2();

      HelloIndia objB = (HelloIndia) context.getBean("helloIndia");
      objB.getMessage1();
      objB.getMessage2();
      objB.getMessage3();
   }
}
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
World Message1 : Hello World!
World Message2 : Hello Second World!
India Message1 : Hello India!
India Message2 : Hello Second World!
India Message3 : Namaste India!
</pre> 
<p>If you observed here, we did not pass message2 while creating "helloIndia" bean, but it got passed because of Bean Definition Inheritance.</p>
<h2>Bean Definition Template</h2>
<p>You can create a Bean definition template, which can be used by other child bean definitions without putting much effort. While defining a Bean Definition Template, you should not specify the <b>class</b> attribute and should specify <b>abstract</b>  attribute and should specify the abstract attribute with a value of <b>true</b> as shown in the following code snippet &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "beanTeamplate" abstract = "true"&gt;
      &lt;property name = "message1" value = "Hello World!"/&gt;
      &lt;property name = "message2" value = "Hello Second World!"/&gt;
      &lt;property name = "message3" value = "Namaste India!"/&gt;
   &lt;/bean&gt;

   &lt;bean id = "helloIndia" class = "com.tutorialspoint.HelloIndia" parent = "beanTeamplate"&gt;
      &lt;property name = "message1" value = "Hello India!"/&gt;
      &lt;property name = "message3" value = "Namaste India!"/&gt;
   &lt;/bean&gt;
   
&lt;/beans&gt;
</pre> 
<p>The parent bean cannot be instantiated on its own because it is incomplete, and it is also explicitly marked as <i>abstract</i>. When a definition is abstract like this, it is usable only as a pure template bean definition that serves as a parent definition for child definitions.</p>
<h1>Spring - Dependency Injection</h1>
<p>Every Java-based application has a few objects that work together to present what the end-user sees as a working application. When writing a complex Java application, application classes should be as independent as possible of other Java classes to increase the possibility to reuse these classes and to test them independently of other classes while unit testing. Dependency Injection (or sometime called wiring) helps in gluing these classes together and at the same time keeping them independent.</p> 
<p>Consider you have an application which has a text editor component and you want to provide a spell check. Your standard code would look something like this &minus;</p>
<pre class="prettyprint notranslate">
public class TextEditor {
   private SpellChecker spellChecker;
   
   public TextEditor() {
      spellChecker = new SpellChecker();
   }
}
</pre>
<p>What we've done here is, create a dependency between the TextEditor and the SpellChecker. In an inversion of control scenario, we would instead do something like this &minus;</p>
<pre class="prettyprint notranslate">
public class TextEditor {
   private SpellChecker spellChecker;
   
   public TextEditor(SpellChecker spellChecker) {
      this.spellChecker = spellChecker;
   }
}
</pre>
<p>Here, the TextEditor should not worry about SpellChecker implementation. The SpellChecker will be implemented independently and will be provided to the TextEditor at the time of TextEditor instantiation. This entire procedure is controlled by the Spring Framework.</p>
<p>Here, we have removed total control from the TextEditor and kept it somewhere else (i.e. XML configuration file) and the dependency (i.e. class SpellChecker) is being injected into the class TextEditor through a <b>Class Constructor</b>. Thus the flow of control has been "inverted" by Dependency Injection (DI) because you have effectively delegated dependances to some external system.</p>
<p>The second method of injecting dependency is through <b>Setter Methods</b> of the TextEditor class where we will create a SpellChecker instance. This instance will be used to call setter methods to initialize TextEditor's properties.</p>
<p>Thus, DI exists in two major variants and the following two sub-chapters will cover both of them with examples &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Dependency Injection Type &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td><a href="/spring/constructor_based_dependency_injection.htm">Constructor-based dependency injection</a>
<p>Constructor-based DI is accomplished when the container invokes a class constructor with a number of arguments, each representing a dependency on the other class.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td><a href="/spring/setter_based_dependency_injection.htm">Setter-based dependency injection</a>
<p>Setter-based DI is accomplished by the container calling setter methods on your beans after invoking a no-argument constructor or no-argument static factory method to instantiate your bean.</p>
</td>
</tr>
</table>
<p>You can mix both, Constructor-based and Setter-based DI but it is a good rule of thumb to use constructor arguments for mandatory dependencies and setters for optional dependencies.</p>
<p>The code is cleaner with the DI principle and decoupling is more effective when objects are provided with their dependencies. The object does not look up its dependencies and does not know the location or class of the dependencies, rather everything is taken care by the Spring Framework.</p>
<h1>Spring - Injecting Inner Beans</h1>
<p>As you know Java inner classes are defined within the scope of other classes, similarly, <b>inner beans</b> are beans that are defined within the scope of another bean. Thus, a &lt;bean/&gt; element inside the &lt;property/&gt; or &lt;constructor-arg/&gt; elements is called inner bean and it is shown below.</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "outerBean" class = "..."&gt;
      &lt;property name = "target"&gt;
         &lt;bean id = "innerBean" class = "..."/&gt;
      &lt;/property&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre> 
<h2>Example</h2>
<p>Let us have working Eclipse IDE in place and follow the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Create Java classes <i>TextEditor</i>, <i>SpellChecker</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>TextEditor.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class TextEditor {
   private SpellChecker spellChecker;
   
   // a setter method to inject the dependency.
   public void setSpellChecker(SpellChecker spellChecker) {
      System.out.println("Inside setSpellChecker." );
      this.spellChecker = spellChecker;
   }
   
   // a getter method to return spellChecker
   public SpellChecker getSpellChecker() {
      return spellChecker;
   }
   public void spellCheck() {
      spellChecker.checkSpelling();
   }
}
</pre>
<p>Following is the content of another dependent class file <b>SpellChecker.java</b> &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class SpellChecker {
   public SpellChecker(){
      System.out.println("Inside SpellChecker constructor." );
   }
   public void checkSpelling(){
      System.out.println("Inside checkSpelling." );
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      TextEditor te = (TextEditor) context.getBean("textEditor");
      te.spellCheck();
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b> which has configuration for the setter-based injection but using <b>inner beans</b> &minus;</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;!-- Definition for textEditor bean using inner bean --&gt;
   &lt;bean id = "textEditor" class = "com.tutorialspoint.TextEditor"&gt;
      &lt;property name = "spellChecker"&gt;
         &lt;bean id = "spellChecker" class = "com.tutorialspoint.SpellChecker"/&gt;
      &lt;/property&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
Inside SpellChecker constructor.
Inside setSpellChecker.
Inside checkSpelling.
</pre> 
<h1>Spring - Injecting Collection</h1>
<p>You have seen how to configure primitive data type using <b>value</b> attribute and object references using <b>ref</b> attribute of the &lt;property&gt; tag in your Bean configuration file. Both the cases deal with passing singular value to a bean.</p>
<p>Now what if you want to pass plural values like Java Collection types such as List, Set, Map, and Properties. To handle the situation, Spring offers four types of collection configuration elements which are as follows &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Sr.No</th>
<th class="ts">Element &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>&lt;list&gt;</b></p>
<p>This helps in wiring ie injecting a list of values, allowing duplicates.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>&lt;set&gt;</b></p>
<p>This helps in wiring a set of values but without any duplicates.</p></td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>&lt;map&gt;</b></p>
<p>This can be used to inject a collection of name-value pairs where name and value can be of any type.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>&lt;props&gt;</b></p>
<p>This can be used to inject a collection of name-value pairs where the name and value are both Strings.</p>
</td>
</tr>
</table>
<p>You can use either &lt;list&gt; or &lt;set&gt; to wire any implementation of java.util.Collection or an <b>array</b>.</p>
<p>You will come across two situations (a) Passing direct values of the collection and (b) Passing a reference of a bean as one of the collection elements.</p>
<h2>Example</h2>
<p>Let us have a working Eclipse IDE in place and take the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Create Java classes <i>JavaCollection</i>, and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>JavaCollection.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;
import java.util.*;

public class JavaCollection {
   List addressList;
   Set  addressSet;
   Map  addressMap;
   Properties addressProp;

   // a setter method to set List
   public void setAddressList(List addressList) {
      this.addressList = addressList;
   }
   
   // prints and returns all the elements of the list.
   public List getAddressList() {
      System.out.println("List Elements :"  + addressList);
      return addressList;
   }
   
   // a setter method to set Set
   public void setAddressSet(Set addressSet) {
      this.addressSet = addressSet;
   }
   
   // prints and returns all the elements of the Set.
   public Set getAddressSet() {
      System.out.println("Set Elements :"  + addressSet);
      return addressSet;
   }
   
   // a setter method to set Map
   public void setAddressMap(Map addressMap) {
      this.addressMap = addressMap;
   }
   
   // prints and returns all the elements of the Map.
   public Map getAddressMap() {
      System.out.println("Map Elements :"  + addressMap);
      return addressMap;
   }
   
   // a setter method to set Property
   public void setAddressProp(Properties addressProp) {
      this.addressProp = addressProp;
   }
   
   // prints and returns all the elements of the Property.
   public Properties getAddressProp() {
      System.out.println("Property Elements :"  + addressProp);
      return addressProp;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      JavaCollection jc=(JavaCollection)context.getBean("javaCollection");

      jc.getAddressList();
      jc.getAddressSet();
      jc.getAddressMap();
      jc.getAddressProp();
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b> which has configuration for all the type of collections &minus;</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;!-- Definition for javaCollection --&gt;
   &lt;bean id = "javaCollection" class = "com.tutorialspoint.JavaCollection"&gt;
      
      &lt;!-- results in a setAddressList(java.util.List) call --&gt;
      &lt;property name = "addressList"&gt;
         &lt;list&gt;
            &lt;value&gt;INDIA&lt;/value&gt;
            &lt;value&gt;Pakistan&lt;/value&gt;
            &lt;value&gt;USA&lt;/value&gt;
            &lt;value&gt;USA&lt;/value&gt;
         &lt;/list&gt;
      &lt;/property&gt;

      &lt;!-- results in a setAddressSet(java.util.Set) call --&gt;
      &lt;property name = "addressSet"&gt;
         &lt;set&gt;
            &lt;value&gt;INDIA&lt;/value&gt;
            &lt;value&gt;Pakistan&lt;/value&gt;
            &lt;value&gt;USA&lt;/value&gt;
            &lt;value&gt;USA&lt;/value&gt;
         &lt;/set&gt;
      &lt;/property&gt;

      &lt;!-- results in a setAddressMap(java.util.Map) call --&gt;
      &lt;property name = "addressMap"&gt;
         &lt;map&gt;
            &lt;entry key = "1" value = "INDIA"/&gt;
            &lt;entry key = "2" value = "Pakistan"/&gt;
            &lt;entry key = "3" value = "USA"/&gt;
            &lt;entry key = "4" value = "USA"/&gt;
         &lt;/map&gt;
      &lt;/property&gt;
      
      &lt;!-- results in a setAddressProp(java.util.Properties) call --&gt;
      &lt;property name = "addressProp"&gt;
         &lt;props&gt;
            &lt;prop key = "one"&gt;INDIA&lt;/prop&gt;
            &lt;prop key = "one"&gt;INDIA&lt;/prop&gt;
            &lt;prop key = "two"&gt;Pakistan&lt;/prop&gt;
            &lt;prop key = "three"&gt;USA&lt;/prop&gt;
            &lt;prop key = "four"&gt;USA&lt;/prop&gt;
         &lt;/props&gt;
      &lt;/property&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
List Elements :[INDIA, Pakistan, USA, USA] 
Set Elements :[INDIA, Pakistan, USA] 
ap Elements :{1 = INDIA, 2 = Pakistan, 3 = USA, 4 = USA} 
Property Elements :{two = Pakistan, one = INDIA, three = USA, four = USA} 
</pre> 
<h2>Injecting Bean References</h2>
<p>The following Bean definition will help you understand how to inject bean references as one of the collection's element. Even you can mix references and values all together as shown in the following code snippet &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;!-- Bean Definition to handle references and values --&gt;
   &lt;bean id = "..." class = "..."&gt;

      &lt;!-- Passing bean reference  for java.util.List --&gt;
      &lt;property name = "addressList"&gt;
         &lt;list&gt;
            &lt;ref bean = "address1"/&gt;
            &lt;ref bean = "address2"/&gt;
            &lt;value&gt;Pakistan&lt;/value&gt;
         &lt;/list&gt;
      &lt;/property&gt;
      
      &lt;!-- Passing bean reference  for java.util.Set --&gt;
      &lt;property name = "addressSet"&gt;
         &lt;set&gt;
            &lt;ref bean = "address1"/&gt;
            &lt;ref bean = "address2"/&gt;
            &lt;value&gt;Pakistan&lt;/value&gt;
         &lt;/set&gt;
      &lt;/property&gt;
      
      &lt;!-- Passing bean reference  for java.util.Map --&gt;
      &lt;property name = "addressMap"&gt;
         &lt;map&gt;
            &lt;entry key = "one" value = "INDIA"/&gt;
            &lt;entry key = "two" value-ref = "address1"/&gt;
            &lt;entry key = "three" value-ref = "address2"/&gt;
         &lt;/map&gt;
      &lt;/property&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre> 
<p>To use the above bean definition, you need to define your setter methods in such a way that they should be able to handle references as well.</p>
<h2>Injecting null and empty string values</h2>
<p>If you need to pass an empty string as a value, then you can pass it as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;bean id = "..." class = "exampleBean"&gt;
   &lt;property name = "email" value = ""/&gt;
&lt;/bean&gt;
</pre> 
<p>The preceding example is equivalent to the Java code: exampleBean.setEmail("")</p>
<p>If you need to pass a NULL value, then you can pass it as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;bean id = "..." class = "exampleBean"&gt;
   &lt;property name = "email"&gt;&lt;null/&gt;&lt;/property&gt;
&lt;/bean&gt;
</pre> 
<p>The preceding example is equivalent to the Java code: exampleBean.setEmail(null)</p>
<h1>Spring - Beans Auto-Wiring</h1>
<p>You have learnt how to declare beans using the &lt;bean&gt; element and inject &lt;bean&gt; using &lt;constructor-arg&gt; and &lt;property&gt; elements in XML configuration file.</p>
<p>The Spring container can <b>autowire</b> relationships between collaborating beans without using &lt;constructor-arg&gt; and &lt;property&gt; elements, which helps cut down on the amount of XML configuration you write for a big Spring-based application.</p>
<h2>Autowiring Modes</h2>
<p>Following are the autowiring modes, which can be used to instruct the Spring container to use autowiring for dependency injection. You use the autowire attribute of the &lt;bean/&gt; element to specify <b>autowire</b> mode for a bean definition.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No</th>
<th style="text-align:center">Mode &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<b>no</b>
<p>This is default setting which means no autowiring and you should use explicit bean reference for wiring. You have nothing to do special for this wiring. This is what you already have seen in Dependency Injection chapter.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td><a target="_blank" rel="nofollow " href= "/spring/spring_autowiring_byname.htm">byName</a>
<p>Autowiring by property name. Spring container looks at the properties of the beans on which <i>autowire</i> attribute is set to <i>byName</i> in the XML configuration file. It then tries to match  and wire its properties with the beans defined by the same names in the configuration file.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td><a target="_blank" rel="nofollow" href="/spring/spring_autowiring_bytype.htm">byType</a>
<p>Autowiring by property datatype. Spring container looks at the properties of the beans on which <i>autowire</i> attribute is set to <i>byType</i> in the XML configuration file. It then tries to match  and wire a property if its <b>type</b> matches with exactly one of the beans name in configuration file. If more than one such beans exists, a fatal exception is thrown.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td><a href="/spring/spring_autowiring_byconstructor.htm">constructor</a>
<p>Similar to byType, but type applies to constructor arguments. If there is not exactly one bean of the constructor argument type in the container, a fatal error is raised.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td><b>autodetect</b>
<p>Spring first tries to wire using autowire by <i>constructor</i>, if it does not work, Spring tries to autowire by <i>byType</i>.</p>
</td>
</tr>
</table>
<p>You can use <b>byType</b> or <b>constructor</b> autowiring mode to wire arrays and other typed-collections.</p>
<h2>Limitations with autowiring</h2>
<p>Autowiring works best when it is used consistently across a project. If autowiring is not used in general, it might be confusing for developers to use it to wire only one or two bean definitions. Though, autowiring can significantly reduce the need to specify properties or constructor arguments but you should consider the limitations and disadvantages of autowiring before using them.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Limitations &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>Overriding possibility</b></p>
<p>You can still specify dependencies using &lt;constructor-arg&gt; and &lt;property&gt; settings which will always override autowiring.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>Primitive data types</b></p>
<p>You cannot autowire so-called simple properties such as primitives, Strings, and Classes.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>Confusing nature</b></p>
<p>Autowiring is less exact than explicit wiring, so if possible prefer using explict wiring.</p>
</td>
</tr>
</table>
<h1>Spring - Annotation Based Configuration</h1>
<p>Starting from Spring 2.5 it became possible to configure the dependency injection using <b>annotations</b>. So instead of using XML to describe a bean wiring, you can move the bean configuration into the component class itself by using annotations on the relevant class, method, or field declaration.</p>
<p>Annotation injection is performed before XML injection. Thus, the latter configuration will override the former for properties wired through both approaches.</p>
<p>Annotation wiring is not turned on in the Spring container by default. So, before we can use annotation-based wiring, we will need to enable it in our Spring configuration file. So consider the following configuration file in case you want to use any annotation in your Spring application.</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xmlns:context = "http://www.springframework.org/schema/context"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context-3.0.xsd"&gt;

   &lt;context:annotation-config/&gt;
   &lt;!-- bean definitions go here --&gt;

&lt;/beans&gt;
</pre> 
<p>Once &lt;context:annotation-config/&gt; is configured, you can start annotating your code to indicate that Spring should automatically wire values into properties, methods, and constructors. Let us look at a few important annotations to understand how they work &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Annotation &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td><a href="/spring/spring_required_annotation.htm">@Required</a>
<p>The @Required annotation applies to bean property setter methods.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td><a href="/spring/spring_autowired_annotation.htm">@Autowired</a>
<p>The @Autowired annotation can apply to bean property setter methods, non-setter methods, constructor and properties.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td><a href="/spring/spring_qualifier_annotation.htm">@Qualifier</a>
<p>The @Qualifier annotation along with @Autowired can be used to remove the confusion by specifiying which exact bean will be wired.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td><a href="/spring/spring_jsr250_annotations.htm">JSR-250 Annotations</a>
<p>Spring supports JSR-250 based annotations which include @Resource, @PostConstruct and @PreDestroy annotations.</p>
</td>
</tr>
</table>
<h1>Spring - Java Based Configuration</h1>
<p>So far you have seen how we configure Spring beans using XML configuration file. If you are comfortable with XML configuration, then it is really not required to learn how to proceed with Java-based configuration as you are going to achieve the same result using either of the configurations available.</p>
<p>Java-based configuration option enables you to write most of your Spring configuration without XML but with the help of few Java-based annotations explained in this chapter.</p>
<h2>@Configuration &amp; @Bean Annotations</h2>
<p>Annotating a class with the <b>@Configuration</b> indicates that the class can be used by the Spring IoC container as a source of bean definitions. The <b>@Bean</b> annotation tells Spring that a method annotated with @Bean will return an object that should be registered as a bean in the Spring application context. The simplest possible @Configuration class would be as follows &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;
import org.springframework.context.annotation.*;

@Configuration
public class HelloWorldConfig {
   @Bean 
   public HelloWorld helloWorld(){
      return new HelloWorld();
   }
}
</pre>
<p>The above code will be equivalent to the following XML configuration &minus;</p>
<pre class="prettyprint notranslate">
&lt;beans&gt;
   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld" /&gt;
&lt;/beans&gt;
</pre>
<p>Here, the method name is annotated with @Bean works as bean ID and it creates and returns the actual bean. Your configuration class can have a declaration for more than one @Bean. Once your configuration classes are defined, you can load and provide them to Spring container using <i>AnnotationConfigApplicationContext</i> as follows &minus;</p>
<pre class="prettyprint notranslate">
public static void main(String[] args) {
   ApplicationContext ctx = new AnnotationConfigApplicationContext(HelloWorldConfig.class);
   
   HelloWorld helloWorld = ctx.getBean(HelloWorld.class);
   helloWorld.setMessage("Hello World!");
   helloWorld.getMessage();
}
</pre>
<p>You can load various configuration classes as follows &minus;</p>
<pre class="prettyprint notranslate">
public static void main(String[] args) {
   AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext();

   ctx.register(AppConfig.class, OtherConfig.class);
   ctx.register(AdditionalConfig.class);
   ctx.refresh();

   MyService myService = ctx.getBean(MyService.class);
   myService.doStuff();
}
</pre>
<h3>Example</h3>
<p>Let us have a working Eclipse IDE in place and take the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Because you are using Java-based annotations, so you also need to add <i>CGLIB.jar</i> from your Java installation directory and <i>ASM.jar</i> library which can be downloaded from <i>asm.ow2.org</i>.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Java classes <i>HelloWorldConfig</i>, <i>HelloWorld</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>HelloWorldConfig.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;
import org.springframework.context.annotation.*;

@Configuration
public class HelloWorldConfig {
   @Bean 
   public HelloWorld helloWorld(){
      return new HelloWorld();
   }
}
</pre>
<p>Here is the content of <b>HelloWorld.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message;

   public void setMessage(String message){
      this.message  = message;
   }
   public void getMessage(){
      System.out.println("Your Message : " + message);
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.*;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext ctx = 
         new AnnotationConfigApplicationContext(HelloWorldConfig.class);
   
      HelloWorld helloWorld = ctx.getBean(HelloWorld.class);
      helloWorld.setMessage("Hello World!");
      helloWorld.getMessage();
   }
}
</pre> 
<p>Once you are done creating all the source files and adding the required additional libraries, let us run the application. You should note that there is no configuration file required. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
Your Message : Hello World!
</pre>
<h2>Injecting Bean Dependencies</h2>
<p>When @Beans have dependencies on one another, expressing that the dependency is as simple as having one bean method calling another as follows &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;
import org.springframework.context.annotation.*;

@Configuration
public class AppConfig {
   @Bean
   public Foo foo() {
      return new Foo(bar());
   }
   @Bean
   public Bar bar() {
      return new Bar();
   }
}
</pre>
<p>Here, the foo bean receives a reference to bar via the constructor injection. Now let us look at another working example.</p>
<h3>Example</h3>
<p>Let us have a working Eclipse IDE in place and take the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Because you are using Java-based annotations, so you also need to add <i>CGLIB.jar</i> from your Java installation directory and <i>ASM.jar</i> library which can be downloaded from <i>asm.ow2.org</i>.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Java classes <i>TextEditorConfig</i>, <i>TextEditor</i>, <i>SpellChecker</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>TextEditorConfig.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;
import org.springframework.context.annotation.*;

@Configuration
public class TextEditorConfig {
   @Bean 
   public TextEditor textEditor(){
      return new TextEditor( spellChecker() );
   }

   @Bean 
   public SpellChecker spellChecker(){
      return new SpellChecker( );
   }
}
</pre>
<p>Here is the content of <b>TextEditor.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class TextEditor {
   private SpellChecker spellChecker;

   public TextEditor(SpellChecker spellChecker){
      System.out.println("Inside TextEditor constructor." );
      this.spellChecker = spellChecker;
   }
   public void spellCheck(){
      spellChecker.checkSpelling();
   }
}
</pre>
<p>Following is the content of another dependent class file <b>SpellChecker.java</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class SpellChecker {
   public SpellChecker(){
      System.out.println("Inside SpellChecker constructor." );
   }
   public void checkSpelling(){
      System.out.println("Inside checkSpelling." );
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.*;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext ctx = 
         new AnnotationConfigApplicationContext(TextEditorConfig.class);

      TextEditor te = ctx.getBean(TextEditor.class);
      te.spellCheck();
   }
}
</pre> 
<p>Once you are done creating all the source files and adding the required additional libraries, let us run the application. You should note that there is no configuration file required. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
Inside SpellChecker constructor.
Inside TextEditor constructor.
Inside checkSpelling.
</pre>
<h2>The @Import Annotation</h2>
<p>The <b>@Import</b> annotation allows for loading @Bean definitions from another configuration class. Consider a ConfigA class as follows &minus;</p>
<pre class="prettyprint notranslate">
@Configuration
public class ConfigA {
   @Bean
   public A a() {
      return new A(); 
   }
}
</pre>
<p>You can import above Bean declaration in another Bean Declaration as follows &minus;</p>
<pre class="prettyprint notranslate">
@Configuration
@Import(ConfigA.class)
public class ConfigB {
   @Bean
   public B b() {
      return new B(); 
   }
}
</pre>
<p>Now, rather than needing to specify both ConfigA.class and ConfigB.class when instantiating the context, only ConfigB needs to be supplied as follows &minus;</p>
<pre class="prettyprint notranslate">
public static void main(String[] args) {
   ApplicationContext ctx = new AnnotationConfigApplicationContext(ConfigB.class);
   
   // now both beans A and B will be available...
   A a = ctx.getBean(A.class);
   B b = ctx.getBean(B.class);
}
</pre>
<h2>Lifecycle Callbacks</h2>
<p>The @Bean annotation supports specifying arbitrary initialization and destruction callback methods, much like Spring XML's init-method and destroy-method attributes on the bean element &minus;</p>
<pre class="prettyprint notranslate">
public class Foo {
   public void init() {
      // initialization logic
   }
   public void cleanup() {
      // destruction logic
   }
}
@Configuration
public class AppConfig {
   @Bean(initMethod = "init", destroyMethod = "cleanup" )
   public Foo foo() {
      return new Foo();
   }
}
</pre>
<h2>Specifying Bean Scope</h2>
<p>The default scope is singleton, but you can override this with the @Scope annotation as follows &minus;</p>
<pre class="prettyprint notranslate">
@Configuration
public class AppConfig {
   @Bean
   @Scope("prototype")
   public Foo foo() {
      return new Foo();
   }
}
</pre>
<h1>Event Handling in Spring</h1>
<p>You have seen in all the chapters that the core of Spring is the <b>ApplicationContext</b>, which manages the complete life cycle of the beans. The ApplicationContext publishes certain types of events when loading the beans. For example, a <i>ContextStartedEvent</i> is published when the context is started and <i>ContextStoppedEvent</i> is published when the context is stopped.</p>
<p>Event handling in the <i>ApplicationContext</i> is provided through the <i>ApplicationEvent</i> class and <i>ApplicationListener</i> interface. Hence, if a bean implements the <i>ApplicationListener</i>, then every time an <i>ApplicationEvent</i> gets published to the ApplicationContext, that bean is notified.</p>
<p>Spring provides the following standard events &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Spring Built-in Events &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>ContextRefreshedEvent</b></p>
<p>This event is published when the <i>ApplicationContext</i> is either initialized or refreshed. This can also be raised using the refresh() method on the <i>ConfigurableApplicationContext</i> interface.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>ContextStartedEvent</b></p>
<p>This event is published when the <i>ApplicationContext</i> is started  using the start() method on the <i>ConfigurableApplicationContext</i> interface. You can poll your database or you can restart any stopped application after receiving this event.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>ContextStoppedEvent</b></p>
<p>This event is published when the <i>ApplicationContext</i> is stopped using the stop() method on the <i>ConfigurableApplicationContext</i> interface. You can do required housekeep work after receiving this event.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>ContextClosedEvent</b></p>
<p>This event is published when the <i>ApplicationContext</i> is closed using the close() method on the <i>ConfigurableApplicationContext</i> interface. A closed context reaches its end of life; it cannot be refreshed or restarted.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>RequestHandledEvent</b></p>
<p>This is a web-specific event telling all beans that an HTTP request has been serviced.</p>
</td>
</tr>
</table>
<p>Spring's event handling is single-threaded so if an event is published, until and unless all the receivers get the message, the processes are blocked and the flow will not continue. Hence, care should be taken when designing your application if the event handling is to be used.</p>
<h2>Listening to Context Events</h2>
<p>To listen to a context event, a bean should implement the <i>ApplicationListener</i> interface which has just one method <b>onApplicationEvent()</b>. So let us write an example to see how the events propagates and  how you can put your code to do required task based on certain events.</p>
<p>Let us have a working Eclipse IDE in place and take the following steps to create a Spring application &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Step</th>
<th style="text-align:center">Description</th>
</tr>
<tr>
<td style="text-align:center">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td>Create Java classes <i>HelloWorld</i>, <i>CStartEventHandler</i>, <i>CStopEventHandler</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>HelloWorld.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message;

   public void setMessage(String message){
      this.message  = message;
   }
   public void getMessage(){
      System.out.println("Your Message : " + message);
   }
}
</pre>
<p>Following is the content of the <b>CStartEventHandler.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationListener;
import org.springframework.context.event.ContextStartedEvent;

public class CStartEventHandler 
   implements ApplicationListener&lt;ContextStartedEvent&gt;{

   public void onApplicationEvent(ContextStartedEvent event) {
      System.out.println("ContextStartedEvent Received");
   }
}
</pre>
<p>Following is the content of the <b>CStopEventHandler.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationListener;
import org.springframework.context.event.ContextStoppedEvent;

public class CStopEventHandler 
   implements ApplicationListener&lt;ContextStoppedEvent&gt;{

   public void onApplicationEvent(ContextStoppedEvent event) {
      System.out.println("ContextStoppedEvent Received");
   }
}
</pre> 
<p>Following is the content of the <b>MainApp.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ConfigurableApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ConfigurableApplicationContext context = 
         new ClassPathXmlApplicationContext("Beans.xml");

      // Let us raise a start event.
      context.start();
	  
      HelloWorld obj = (HelloWorld) context.getBean("helloWorld");
      obj.getMessage();

      // Let us raise a stop event.
      context.stop();
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b></p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld"&gt;
      &lt;property name = "message" value = "Hello World!"/&gt;
   &lt;/bean&gt;

   &lt;bean id = "cStartEventHandler" class = "com.tutorialspoint.CStartEventHandler"/&gt;
   &lt;bean id = "cStopEventHandler" class = "com.tutorialspoint.CStopEventHandler"/&gt;

&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
ContextStartedEvent Received
Your Message : Hello World!
ContextStoppedEvent Received
</pre>
<p>If you like, you can publish your own custom events and later you can capture the same to take any action against those custom events. If you are interested in writing your own custom events, you can check <a href="/spring/custom_events_in_spring.htm">Custom Events in Spring.</a></p>
<h1>Custom Events in Spring</h1>
<p>There are number of steps to be taken to write and publish your own custom events. Follow the instructions given in this chapter to write, publish and handle Custom Spring Events.</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project. All the classes will be created under this package.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Create an event class, <i>CustomEvent</i> by extending <b>ApplicationEvent</b>. This class must define a default constructor which should inherit constructor from ApplicationEvent class.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Once your event class is defined, you can publish it from any class, let us say <i>EventClassPublisher</i> which implements <i>ApplicationEventPublisherAware</i>. You will also need to declare this class in XML configuration file as a bean so that the container can identify the bean as an event publisher because it implements the ApplicationEventPublisherAware interface.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>A published event can be handled in a class, let us say <i>EventClassHandler</i> which implements <i>ApplicationListener</i> interface and implements <i>onApplicationEvent</i> method for the custom event.</td>
</tr>
<tr>
<td class="ts">6</td>
<td>Create beans configuration file <i>Beans.xml</i> under the <b>src</b> folder and a <i>MainApp</i> class which will work as Spring application.</td>
</tr>
<tr>
<td class="ts">7</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>CustomEvent.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationEvent;

public class CustomEvent extends ApplicationEvent{
   public CustomEvent(Object source) {
      super(source);
   }
   public String toString(){
      return "My Custom Event";
   }
}
</pre>
<p>Following is the content of the <b>CustomEventPublisher.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationEventPublisher;
import org.springframework.context.ApplicationEventPublisherAware;

public class CustomEventPublisher implements ApplicationEventPublisherAware {
   private ApplicationEventPublisher publisher;
   
   public void setApplicationEventPublisher (ApplicationEventPublisher publisher) {
      this.publisher = publisher;
   }
   public void publish() {
      CustomEvent ce = new CustomEvent(this);
      publisher.publishEvent(ce);
   }
}
</pre>
<p>Following is the content of the <b>CustomEventHandler.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationListener;

public class CustomEventHandler implements ApplicationListener&lt;CustomEvent&gt; {
   public void onApplicationEvent(CustomEvent event) {
      System.out.println(event.toString());
   }
}
</pre> 
<p>Following is the content of the <b>MainApp.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ConfigurableApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ConfigurableApplicationContext context = 
         new ClassPathXmlApplicationContext("Beans.xml");
	  
      CustomEventPublisher cvp = 
         (CustomEventPublisher) context.getBean("customEventPublisher");
      
      cvp.publish();  
      cvp.publish();
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b></p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "customEventHandler" class = "com.tutorialspoint.CustomEventHandler"/&gt;
   &lt;bean id = "customEventPublisher" class = "com.tutorialspoint.CustomEventPublisher"/&gt;

&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message &minus;</p>
<pre class="result notranslate">
y Custom Event
y Custom Event
</pre>
<h1>AOP with Spring Framework</h1>
<p>One of the key components of Spring Framework is the <b>Aspect oriented programming (AOP)</b> framework. Aspect-Oriented Programming entails breaking down program logic into distinct parts called so-called concerns. The functions that span multiple points of an application are called <b>cross-cutting concerns</b> and these cross-cutting concerns are conceptually separate from the application's business logic. There are various common good examples of aspects like logging, auditing, declarative transactions, security, caching, etc.</p>
<p>The key unit of modularity in OOP is the class, whereas in AOP the unit of modularity is the aspect. Dependency Injection helps you decouple your application objects from each other and AOP helps you decouple cross-cutting concerns from the objects that they affect. AOP is like triggers in programming languages such as Perl, .NET, Java, and others.</p>
<p>Spring AOP module provides interceptors to intercept an application. For example, when a method is executed, you can add extra functionality before or after the method execution.</p>
<h2>AOP Terminologies</h2>
<p>Before we start working with AOP, let us become familiar with the AOP concepts and terminology. These terms are not specific to Spring, rather they are related to AOP.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No</th>
<th style="text-align:center">Terms &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>Aspect</b></p>
<p>This is a module which has a set of APIs providing cross-cutting requirements. For example, a logging module would be called AOP aspect for logging. An application can have any number of aspects depending on the requirement.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>Join point</b></p>
<p>This represents a point in your application where you can plug-in the AOP aspect. You can also say, it is the actual place in the application where an action will be taken using Spring AOP framework.</p></td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>Advice</b></p>
<p>This is the actual action to be taken either before or after the method execution. This is an actual piece of code that is invoked during the program execution by Spring AOP framework.</p></td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>Pointcut</b></p>
<p>This is a set of one or more join points where an advice should be executed. You can specify pointcuts using expressions or patterns as we will see in our AOP examples.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>Introduction</b></p>
<p>An introduction allows you to add new methods or attributes to the existing classes.</p></td>
</tr>
<tr>
<td class="ts">6</td>
<td>
<p><b>Target object</b></p>
<p>The object being advised by one or more aspects. This object will always be a proxied object, also referred to as the advised object.</p>
</td>
</tr>
<tr>
<td class="ts">7</td>
<td>
<p><b>Weaving</b></p>
<p>Weaving is the process of linking aspects with other application types or objects to create an advised object. This can be done at compile time, load time, or at runtime.</p>
</td>
</tr>
</table>
<h2>Types of Advice</h2>
<p>Spring aspects can work with five kinds of advice mentioned as follows &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No</th>
<th style="text-align:center">Advice &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>before</b></p>
<p>Run advice before the a method execution.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>after</b></p>
<p>Run advice after the method execution, regardless of its outcome.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>after-returning</b></p>
<p>Run advice after the a method execution only if method completes successfully.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>after-throwing</b></p>
<p>Run advice after the a method execution only if method exits by throwing an exception.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>around</b></p>
<p>Run advice before and after the advised method is invoked.</p>
</td>
</tr>
</table>
<h2>Custom Aspects Implementation</h2>
<p>Spring supports the <b>@AspectJ annotation style</b> approach and the <b>schema-based</b> approach to implement custom aspects. These two approaches have been explained in detail in the following sections.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No</th>
<th style="text-align:center">Approach &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td><a href="/spring/schema_based_aop_appoach.htm">XML Schema based</a>
<p>Aspects are implemented using the regular classes along with XML based configuration.</p></td>
</tr>
<tr>
<td class="ts">2</td>
<td><a href="/spring/aspectj_based_aop_appoach.htm">@AspectJ based</a>
<p>@AspectJ refers to a style of declaring aspects as regular Java classes annotated with Java 5 annotations.</p>
</td>
</tr>
</table>
<h1>Spring - JDBC Framework Overview</h1>
<p>While working with the database using plain old JDBC, it becomes cumbersome to write unnecessary code to handle exceptions, opening and closing database connections, etc. However, Spring JDBC Framework takes care of all the low-level details starting from opening the connection, prepare and execute the SQL statement, process exceptions, handle transactions and finally close the connection.</p>
<p>So what you have to do is just define the connection parameters and specify the SQL statement to be executed and do the required work for each iteration while fetching data from the database.</p>
<p>Spring JDBC provides several approaches and correspondingly different classes to interface with the database. I'm going to take classic and the most popular approach which makes use of <b>JdbcTemplate</b> class of the framework. This is the central framework class that manages all the database communication and exception handling.</p>
<h2>JdbcTemplate Class</h2>
<p>The JDBC Template class executes SQL queries, updates statements, stores procedure calls, performs iteration over ResultSets, and extracts returned parameter values. It also catches JDBC exceptions and translates them to the generic, more informative, exception hierarchy defined in the org.springframework.dao package.</p>
<p>Instances of the <i>JdbcTemplate</i> class are <i>threadsafe</i> once configured. So you can configure a single instance of a <i>JdbcTemplate</i> and then safely inject this shared reference into multiple DAOs.</p>
<p>A common practice when using the JDBC Template class is to configure a <i>DataSource</i> in your Spring configuration file, and then dependency-inject that shared DataSource bean into your DAO classes, and the JdbcTemplate is created in the setter for the DataSource.</p>
<h2>Configuring Data Source</h2>
<p>Let us create a database table <b>Student</b> in our database <b>TEST</b>. We assume you are working with MySQL database, if you work with any other database then you can change your DDL and SQL queries accordingly.</p>
<pre class="prettyprint notranslate">
CREATE TABLE Student(
   ID   INT NOT NULL AUTO_INCREMENT,
   NAME VARCHAR(20) NOT NULL,
   AGE  INT NOT NULL,
   PRIMARY KEY (ID)
);
</pre>
<p>Now we need to supply a DataSource to the JDBC Template so it can configure itself to get database access. You can configure the DataSource in the XML file with a piece of code as shown in the following code snippet &minus;</p>
<pre class="prettyprint notranslate">
&lt;bean id = "dataSource" 
   class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
   &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
   &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
   &lt;property name = "username" value = "root"/&gt;
   &lt;property name = "password" value = "password"/&gt;
&lt;/bean&gt;
</pre>
<h2>Data Access Object (DAO)</h2>
<p>DAO stands for Data Access Object, which is commonly used for database interaction. DAOs exist to provide a means to read and write data to the database and they should expose this functionality through an interface by which the rest of the application will access them.</p>
<p>The DAO support in Spring makes it easy to work with data access technologies like JDBC, Hibernate, JPA, or JDO in a consistent way.</p>
<h2>Executing SQL statements</h2>
<p>Let us see how we can perform CRUD (Create, Read, Update and Delete) operation on database tables using SQL and JDBC Template object.</p>
<p><b>Querying for an integer</b></p>
<pre class="prettyprint notranslate">
String SQL = "select count(*) from Student";
int rowCount = jdbcTemplateObject.queryForInt( SQL );
</pre>
<p><b>Querying for a long</b></p>
<pre class="prettyprint notranslate">
String SQL = "select count(*) from Student";
long rowCount = jdbcTemplateObject.queryForLong( SQL );
</pre>
<p><b>A simple query using a bind variable</b></p>
<pre class="prettyprint notranslate">
String SQL = "select age from Student where id = ?";
int age = jdbcTemplateObject.queryForInt(SQL, new Object[]{10});
</pre>
<p><b>Querying for a String</b></p>
<pre class="prettyprint notranslate">
String SQL = "select name from Student where id = ?";
String name = jdbcTemplateObject.queryForObject(SQL, new Object[]{10}, String.class);
</pre>
<p><b>Querying and returning an object</b></p>
<pre class="prettyprint notranslate">
String SQL = "select * from Student where id = ?";
Student student = jdbcTemplateObject.queryForObject(
   SQL, new Object[]{10}, new StudentMapper());

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setID(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      
      return student;
   }
}
</pre>
<p><b>Querying and returning multiple objects</b></p>
<pre class="prettyprint notranslate">
String SQL = "select * from Student";
List&lt;Student&gt; students = jdbcTemplateObject.query(
   SQL, new StudentMapper());

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setID(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      
      return student;
   }
}
</pre>
<p><b>Inserting a row into the table</b></p>
<pre class="prettyprint notranslate">
String SQL = "insert into Student (name, age) values (?, ?)";
jdbcTemplateObject.update( SQL, new Object[]{"Zara", 11} );
</pre>
<p><b>Updating a row into the table</b></p>
<pre class="prettyprint notranslate">
String SQL = "update Student set name = ? where id = ?";
jdbcTemplateObject.update( SQL, new Object[]{"Zara", 10} );
</pre>
<p><b>Deleting a row from the table</b></p>
<pre class="prettyprint notranslate">
String SQL = "delete Student where id = ?";
jdbcTemplateObject.update( SQL, new Object[]{20} );
</pre>
<h2>Executing DDL Statements</h2>
<p>You can use the <b>execute(..)</b> method from <i>jdbcTemplate</i> to execute any SQL statements or DDL statements. Following is an example to use CREATE statement to create a table &minus;</p>
<pre class="prettyprint notranslate">
String SQL = "CREATE TABLE Student( " +
   "ID   INT NOT NULL AUTO_INCREMENT, " +
   "NAME VARCHAR(20) NOT NULL, " +
   "AGE  INT NOT NULL, " +
   "PRIMARY KEY (ID));"

jdbcTemplateObject.execute( SQL );
</pre>
<h2>Spring JDBC Framework Examples</h2>
<p>Based on the above concepts, let us check few important examples which will help you in understanding usage of JDBC framework in Spring &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Example &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td><a href="/spring/spring_jdbc_example.htm">Spring JDBC Example</a>
<p>This example will explain how to write a simple JDBC-based Spring application.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td><a href="/spring/calling_stored_procedure.htm">SQL Stored Procedure in Spring</a>
<p>Learn how to call SQL stored procedure while using JDBC in Spring.</p>
</td>
</tr>
</table>
<h1>Spring - Transaction Management</h1>
<p>A database transaction is a sequence of actions that are treated as a single unit of work. These actions should either complete entirely or take no effect at all. Transaction management is an important part of RDBMS-oriented enterprise application to ensure data integrity and consistency. The concept of transactions can be described with the following four key properties described as <b>ACID</b> &minus;</p>
<ul class="list">
<li><p><b>Atomicity</b> &minus; A transaction should be treated as a single unit of operation, which means either the entire sequence of operations is successful or unsuccessful.</p></li>
<li><p><b>Consistency</b> &minus; This represents the consistency of the referential integrity of the database, unique primary keys in tables, etc.</p></li>
<li><p><b>Isolation</b> &minus; There may be many transaction processing with the same data set at the same time. Each transaction should be isolated from others to prevent data corruption.</p></li>
<li><p><b>Durability</b> &minus; Once a transaction has completed, the results of this transaction have to be made permanent and cannot be erased from the database due to system failure.</p></li>
</ul>
<p>A real RDBMS database system will guarantee all four properties for each transaction. The simplistic view of a transaction issued to the database using SQL is as follows &minus;</p>
<ul class="list">
<li><p>Begin the transaction using <i>begin transaction</i> command.</p></li>
<li><p>Perform various deleted, update or insert operations using SQL queries.</p></li>
<li><p>If all the operation are successful then perform <i>commit</i> otherwise <i>rollback</i> all the operations.</p></li>
</ul>
<p>Spring framework provides an abstract layer on top of different underlying transaction management APIs. Spring's transaction support aims to provide an alternative to EJB transactions by adding transaction capabilities to POJOs. Spring supports both programmatic and declarative transaction management. EJBs require an application server, but Spring transaction management can be implemented without the need of an application server.</p>
<h2>Local vs. Global Transactions</h2>
<p>Local transactions are specific to a single transactional resource like a JDBC connection, whereas global transactions can span multiple transactional resources like transaction in a distributed system.</p>
<p>Local transaction management can be useful in a centralized computing environment where application components and resources are located at a single site, and transaction management only involves a local data manager running on a single machine. Local transactions are easier to be implemented.</p>
<p>Global transaction management is required in a distributed computing environment where all the resources are distributed across multiple systems. In such a case, transaction management needs to be done both at local and global levels. A distributed or a global transaction is executed across multiple systems, and its execution requires coordination between the global transaction management system and all the local data managers of all the involved systems.</p>
<h2>Programmatic vs. Declarative</h2>
<p>Spring supports two types of transaction management &minus;</p>
<ul class="list">
<li><p><a href="/spring/programmatic_management.htm">Programmatic transaction management</a> &minus; This means that you have to manage the transaction with the help of programming. That gives you extreme flexibility, but it is difficult to maintain.</p></li>
<li><p><a href="/spring/declarative_management.htm">Declarative transaction management</a> &minus; This means you separate transaction management from the business code. You only use annotations or XML-based configuration to manage the transactions.</p></li>
</ul>
<p>Declarative transaction management is preferable over programmatic transaction management though it is less flexible than programmatic transaction management, which allows you to control transactions through your code. But as a kind of crosscutting concern, declarative transaction management can be modularized with the AOP approach. Spring supports declarative transaction management through the Spring AOP framework.</p>
<h2>Spring Transaction Abstractions</h2>
<p>The key to the Spring transaction abstraction is defined by the <i>org.springframework.transaction.PlatformTransactionManager</i> interface, which is as follows &minus;</p>
<pre class="prettyprint notranslate">
public interface PlatformTransactionManager {
   TransactionStatus getTransaction(TransactionDefinition definition);
   throws TransactionException;
   
   void commit(TransactionStatus status) throws TransactionException;
   void rollback(TransactionStatus status) throws TransactionException;
}
</pre>
<p></p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No</th>
<th style="text-align:center">Method &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>TransactionStatus getTransaction(TransactionDefinition definition)</b></p>
<p>This method returns a currently active transaction or creates a new one, according to the specified propagation behavior.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>void commit(TransactionStatus status)</b></p>
<p>This method commits the given transaction, with regard to its status.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>void rollback(TransactionStatus status)</b></p>
<p>This method performs a rollback of the given transaction.</p>
</td>
</tr>
</table>
<p>The <i>TransactionDefinition</i> is the core interface of the transaction support in Spring and it is defined as follows &minus;</p>
<pre class="prettyprint notranslate">
public interface TransactionDefinition {
   int getPropagationBehavior();
   int getIsolationLevel();
   String getName();
   int getTimeout();
   boolean isReadOnly();
}
</pre>
<p></p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No</th>
<th style="text-align:center">Method &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>int getPropagationBehavior()</b></p>
<p>This method returns the propagation behavior. Spring offers all of the transaction propagation options familiar from EJB CMT.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>int getIsolationLevel()</b></p>
<p>This method returns the degree to which this transaction is isolated from the work of other transactions.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>String getName()</b></p>
<p>This method returns the name of this transaction.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>int getTimeout()</b></p>
<p>This method returns the time in seconds in which the transaction must complete.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>boolean isReadOnly()</b></p>
<p>This method returns whether the transaction is read-only.</p>
</td>
</tr>
</table>
<p>Following are the possible values for isolation level &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No</th>
<th style="text-align:center">Isolation &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>TransactionDefinition.ISOLATION_DEFAULT</b></p>
<p>This is the default isolation level.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>TransactionDefinition.ISOLATION_READ_COMMITTED</b></p>
<p>Indicates that dirty reads are prevented; non-repeatable reads and phantom reads can occur.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>TransactionDefinition.ISOLATION_READ_UNCOMMITTED</b></p>
<p>Indicates that dirty reads, non-repeatable reads, and phantom reads can occur.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>TransactionDefinition.ISOLATION_REPEATABLE_READ</b></p>
<p>Indicates that dirty reads and non-repeatable reads are prevented; phantom reads can occur.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>TransactionDefinition.ISOLATION_SERIALIZABLE</b></p>
<p>Indicates that dirty reads, non-repeatable reads, and phantom reads are prevented.</p>
</td>
</tr>
</table>
<p>Following are the possible values for propagation types &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Propagation &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>TransactionDefinition.PROPAGATION_MANDATORY</b></p>
<p>Supports a current transaction; throws an exception if no current transaction exists.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>TransactionDefinition.PROPAGATION_NESTED </b></p>
<p>Executes within a nested transaction if a current transaction exists.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>TransactionDefinition.PROPAGATION_NEVER </b></p>
<p>Does not support a current transaction; throws an exception if a current transaction exists.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>TransactionDefinition.PROPAGATION_NOT_SUPPORTED </b></p>
<p>Does not support a current transaction; rather always execute nontransactionally.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>TransactionDefinition.PROPAGATION_REQUIRED</b></p>
<p>Supports a current transaction; creates a new one if none exists.</p>
</td>
</tr>
<tr>
<td class="ts">6</td>
<td>
<p><b>TransactionDefinition.PROPAGATION_REQUIRES_NEW</b></p>
<p>Creates a new transaction, suspending the current transaction if one exists.</p>
</td>
</tr>
<tr>
<td class="ts">7</td>
<td>
<p><b>TransactionDefinition.PROPAGATION_SUPPORTS</b></p>
<p>Supports a current transaction; executes non-transactionally if none exists.</p>
</td>
</tr>
<tr>
<td class="ts">8</td>
<td>
<p><b>TransactionDefinition.TIMEOUT_DEFAULT</b></p>
<p>Uses the default timeout of the underlying transaction system, or none if timeouts are not supported.</p>
</td>
</tr>
</table>
<p>The <i>TransactionStatus</i> interface provides a simple way for transactional code to control transaction execution and query transaction status.</p>
<pre class="prettyprint notranslate">
public interface TransactionStatus extends SavepointManager {
   boolean isNewTransaction();
   boolean hasSavepoint();
   void setRollbackOnly();
   boolean isRollbackOnly();
   boolean isCompleted();
}
</pre>
<p></p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Method &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>
<p><b>boolean hasSavepoint()</b></p>
<p>This method returns whether this transaction internally carries a savepoint, i.e., has been created as nested transaction based on a savepoint.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td>
<p><b>boolean isCompleted()</b></p>
<p>This method returns whether this transaction is completed, i.e., whether it has already been committed or rolled back.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td>
<p><b>boolean isNewTransaction()</b></p>
<p>This method returns true in case the present transaction is new.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td>
<p><b>boolean isRollbackOnly()</b></p>
<p>This method returns whether the transaction has been marked as rollback-only.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td>
<p><b>void setRollbackOnly()</b></p>
<p>This method sets the transaction as rollback-only.</p>
</td>
</tr>
</table>
<h1>Spring - MVC Framework</h1>
<p>The Spring Web MVC framework provides Model-View-Controller (MVC) architecture and ready components that can be used to develop flexible and loosely coupled web applications. The MVC pattern results in separating the different aspects of the application (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</p>
<ul class="list">
<li><p>The <b>Model</b> encapsulates the application data and in general they will consist of POJO.</p></li>
<li><p>The <b>View</b> is responsible for rendering the model data and in general it generates HTML output that the client's browser can interpret.</p></li>
<li><p>The <b>Controller</b> is responsible for processing user requests and building an appropriate model and passes it to the view for rendering.</p></li>
</ul>
<h2>The DispatcherServlet</h2>
<p>The Spring Web model-view-controller (MVC) framework is designed around a <i>DispatcherServlet</i> that handles all the HTTP requests and responses. The request processing workflow of the Spring Web MVC <i>DispatcherServlet</i> is illustrated in the following diagram &minus;</p>
<img src="/spring/images/spring_dispatcherservlet.png" alt="Spring DispatcherServlet" />
<p>Following is the sequence of events corresponding to an incoming HTTP request to <i>DispatcherServlet</i> &minus;</p>
<ul class="list">
<li><p>After receiving an HTTP request, <i>DispatcherServlet</i> consults the <i>HandlerMapping</i>  to call the appropriate <i>Controller</i>. </p></li>
<li><p>The <i>Controller</i> takes the request and calls the appropriate service methods based on used GET or POST method. The service method will set model data based on defined business logic and returns view name to the <i>DispatcherServlet</i>.</p></li>
<li><p>The <i>DispatcherServlet</i> will take help from <i>ViewResolver</i> to pickup the defined view for the request.</p></li>
<li><p>Once view is finalized, The <i>DispatcherServlet</i> passes the model data to the view  which is finally rendered on the browser.</p></li>
</ul>
<p>All the above-mentioned components, i.e. HandlerMapping, Controller, and ViewResolver are parts of <i>WebApplicationContext</i> w which is an extension of the plain<i>ApplicationContext</i> with some extra features necessary for web applications.</p>
<h2>Required Configuration</h2>
<p>You need to map requests that you want the <i>DispatcherServlet</i> to handle, by using a URL mapping in the <b>web.xml</b> file. The following is an example to show declaration and mapping for <b>HelloWeb</b> <i>DispatcherServlet</i> example &minus;</p>
<pre class="prettyprint notranslate">
&lt;web-app id = "WebApp_ID" version = "2.4"
   xmlns = "http://java.sun.com/xml/ns/j2ee" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://java.sun.com/xml/ns/j2ee 
   http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"&gt;
    
   &lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;
   
   &lt;servlet&gt;
      &lt;servlet-name&gt;HelloWeb&lt;/servlet-name&gt;
      &lt;servlet-class&gt;
         org.springframework.web.servlet.DispatcherServlet
      &lt;/servlet-class&gt;
      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
   &lt;/servlet&gt;

   &lt;servlet-mapping&gt;
      &lt;servlet-name&gt;HelloWeb&lt;/servlet-name&gt;
      &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;
   &lt;/servlet-mapping&gt;

&lt;/web-app&gt;
</pre>
<p>The <b>web.xml</b> file will be kept in the WebContent/WEB-INF directory of your web application. Upon initialization of <b>HelloWeb</b> DispatcherServlet, the framework will try to load the application context from a file named <b>[servlet-name]-servlet.xml</b> located in the application's WebContent/WEB-INFdirectory. In this case, our file will be <b>HelloWebservlet.xml</b>.</p>
<p>Next, &lt;servlet-mapping&gt; tag indicates what URLs will be handled by which DispatcherServlet. Here all the HTTP requests ending with <b>.jsp</b> will be handled by the <b>HelloWeb</b> DispatcherServlet.</p>
<p>If you do not want to go with default filename as <i>[servlet-name]-servlet.xml</i> and default location as <i>WebContent/WEB-INF</i>, you can customize this file name and location by adding the servlet listener <i>ContextLoaderListener</i> in your web.xml file as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;web-app...&gt;

   &lt;!-------- <i>DispatcherServlet</i> definition goes here-----&gt;
   ....
   &lt;context-param&gt;
      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
      &lt;param-value&gt;/WEB-INF/HelloWeb-servlet.xml&lt;/param-value&gt;
   &lt;/context-param&gt;

   &lt;listener&gt;
      &lt;listener-class&gt;
         org.springframework.web.context.ContextLoaderListener
      &lt;/listener-class&gt;
   &lt;/listener&gt;
   
&lt;/web-app&gt;
</pre>
<p>Now, let us check the required configuration for <b>HelloWeb-servlet.xml</b> file, placed in your web application's <i>WebContent/WEB-INF</i> directory &minus;</p>
<pre class="prettyprint notranslate">
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:context = "http://www.springframework.org/schema/context"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans     
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
   http://www.springframework.org/schema/context 
   http://www.springframework.org/schema/context/spring-context-3.0.xsd"&gt;

   &lt;context:component-scan base-package = "com.tutorialspoint" /&gt;

   &lt;bean class = "org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
      &lt;property name = "prefix" value = "/WEB-INF/jsp/" /&gt;
      &lt;property name = "suffix" value = ".jsp" /&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre>
<p>Following are the important points about <b>HelloWeb-servlet.xml</b> file &minus;</p>
<ul class="list">
<li><p>The <i>[servlet-name]-servlet.xml</i> file will be used to create the beans defined, overriding the definitions of any beans defined with the same name in the global scope.</p></li>
<li><p>The <i>&lt;context:component-scan...&gt;</i> tag will be use to activate Spring MVC annotation scanning capability which allows to make use of annotations like @Controller and @RequestMapping etc.</p></li>
<li><p>The  <i>InternalResourceViewResolver</i> will have rules defined to resolve the view names. As per the above defined rule, a logical view named <b>hello</b> is delegated to a view implementation located at <i>/WEB-INF/jsp/hello.jsp</i> .</p></li>
</ul>
<p>The following section will show you how to create your actual components, i.e., Controller, Model, and View.</p>
<h2>Defining a Controller</h2>
<p>The DispatcherServlet delegates the request to the controllers to execute the functionality specific to it. The <b>@Controller</b>annotation indicates that a particular class serves the role of a controller. The <b>@RequestMapping</b> annotation is used to map a URL to either an entire class or a particular handler method.</p>
<pre class="prettyprint notranslate">
@Controller
@RequestMapping("/hello")
public class HelloController { 
   @RequestMapping(method = RequestMethod.GET)
   public String printHello(ModelMap model) {
      model.addAttribute("message", "Hello Spring MVC Framework!");
      return "hello";
   }
}
</pre>
<p>The <b>@Controller</b> annotation defines the class as a Spring MVC controller. Here, the first usage of <b>@RequestMapping</b> indicates that all handling methods on this controller are relative to the <b>/hello</b> path. Next annotation<b>@RequestMapping(method = RequestMethod.GET)</b> is used to declare theprintHello() method as the controller's default service method to handle HTTP GET request. You can define another method to handle any POST request at the same URL.</p>
<p>You can write the above controller in another form where you can add additional attributes in  <i>@RequestMapping</i> as follows &minus;</p>
<pre class="prettyprint notranslate">
@Controller
public class HelloController {
   @RequestMapping(value = "/hello", method = RequestMethod.GET)
   public String printHello(ModelMap model) {
      model.addAttribute("message", "Hello Spring MVC Framework!");
      return "hello";
   }
}
</pre>
<p>The <b>value</b> attribute indicates the URL to which the handler method is mapped and the <b>method</b> attribute defines the service method to handle HTTP GET request. The following important points are to be noted about the controller defined above &minus;</p>
<ul class="list">
<li><p>You will define required business logic inside a service method. You can call another method inside this method as per requirement.</p></li>
<li><p>Based on the business logic defined, you will create a model within this method. You can use setter different model attributes and these attributes will be accessed by the view to present the final result. This example creates a model with its attribute "message".</p></li>
<li><p>A defined service method can return a String, which contains the name of the <b>view</b> to be used to render the model. This example returns "hello" as logical view name.</p></li>
</ul>
<h2>Creating JSP Views</h2>
<p>Spring MVC supports many types of views for different presentation technologies. These include - JSPs, HTML, PDF, Excel worksheets, XML, Velocity templates, XSLT, JSON, Atom and RSS feeds, JasperReports, etc. But most commonly we use JSP templates written with JSTL.</p> 
<p>Let us write a simple <b>hello</b> view in /WEB-INF/hello/hello.jsp &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Hello Spring MVC&lt;/title&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;h2&gt;${message}&lt;/h2&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Here <b>${message}</b> is the attribute which we have set up inside the Controller. You can have multiple attributes to be displayed inside your view.</p>
<h2>Spring Web MVC Framework Examples</h2>
<p>Based on the above concepts, let us check few important examples which will help you in building your Spring Web Applications &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Sr.No.</th>
<th style="text-align:center">Example &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td><a href="/spring/spring_mvc_hello_world_example.htm">Spring MVC Hello World Example</a>
<p>This example will explain how to write a simple Spring Web Hello World application.</p>
</td>
</tr>
<tr>
<td class="ts">2</td>
<td><a href="/spring/spring_mvc_form_handling_example.htm">Spring MVC Form Handling Example</a>
<p>This example will explain how to write a Spring Web application using HTML forms to submit the data to the controller and display a processed result.</p>
</td>
</tr>
<tr>
<td class="ts">3</td>
<td><a href="/spring/spring_page_redirection_example.htm">Spring Page Redirection Example</a>
<p>Learn how to use page redirection functionality in Spring MVC Framework.</p>
</td>
</tr>
<tr>
<td class="ts">4</td>
<td><a href="/spring/spring_static_pages_example.htm">Spring Static Pages Example</a>
<p>Learn how to access static pages along with dynamic pages in Spring MVC Framework.</p>
</td>
</tr>
<tr>
<td class="ts">5</td>
<td><a href="/spring/spring_exception_handling_example.htm">Spring Exception Handling Example</a>
<p>Learn how to handle exceptions in Spring MVC Framework.</p>
</td>
</tr>
</table>
<h1>Spring - Logging with Log4J</h1>
<p>This is a very easy-to-use Log4J functionality inside Spring applications. The following example will take you through simple steps to explain the simple integration between Log4J and Spring.</p>
<p>We assume you already have <b>log4J</b> installed on your machine. If you do not have it then you can download it from <a target="blank" rel="nofollow" href="https://logging.apache.org/">https://logging.apache.org/</a> and simply extract the zipped file in any folder. We will use only <b>log4j-x.y.z.jar</b> in our project.</p>
<p>Next, let us have a working Eclipse IDE in place and take the following steps to develop a Dynamic Form-based Web Application using Spring Web Framework &minus;</p>
<table class="table table-bordered">
<tr>
<th class="ts">Steps</th>
<th class="ts">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td>
</tr>
<tr>
<td class="ts">3</td>
<td>Add log4j library <i>log4j-x.y.z.jar</i> as well in your project using using <i>Add External JARs</i>.</td>
</tr>
<tr>
<td class="ts">4</td>
<td>Create Java classes <i>HelloWorld</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td>
</tr>
<tr>
<td class="ts">5</td>
<td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">6</td>
<td>Create log4J configuration file <i>log4j.properties</i> under the <b>src</b> folder.</td>
</tr>
<tr>
<td class="ts">7</td>
<td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td>
</tr>
</table>
<p>Here is the content of <b>HelloWorld.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class HelloWorld {
   private String message;
   
   public void setMessage(String message){
      this.message  = message;
   }
   public void getMessage() {
      System.out.println("Your Message : " + message);
   }
}
</pre>
<p>Following is the content of the second file <b>MainApp.java</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.apache.log4j.Logger;

public class MainApp {
   static Logger log = Logger.getLogger(MainApp.class.getName());
   
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      log.info("Going to create HelloWord Obj");
      HelloWorld obj = (HelloWorld) context.getBean("helloWorld");
      obj.getMessage();
      
      log.info("Exiting the program");
   }
}
</pre>
<p>You can generate <b>debug</b> and <b>error</b> message in a similar way as we have generated info messages. Now let us see the content of <b>Beans.xml</b> file</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;

&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id = "helloWorld" class = "com.tutorialspoint.HelloWorld"&gt;
      &lt;property name = "message" value = "Hello World!"/&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre>
<p>Following is the content of <b>log4j.properties</b> which defines the standard rules required for Log4J to produce log messages</p>
<pre class="prettyprint notranslate">
# Define the root logger with appender file
log4j.rootLogger = DEBUG, FILE

# Define the file appender
log4j.appender.FILE=org.apache.log4j.FileAppender
# Set the name of the file
log4j.appender.FILE.File=C:\\log.out

# Set the immediate flush to true (default)
log4j.appender.FILE.ImmediateFlush=true

# Set the threshold to debug mode
log4j.appender.FILE.Threshold=debug

# Set the append to false, overwrite
log4j.appender.FILE.Append=false

# Define the layout for file appender
log4j.appender.FILE.layout=org.apache.log4j.PatternLayout
log4j.appender.FILE.layout.conversionPattern=%m%n
</pre>
<p>Once you are done with creating source and bean configuration files, let us run the application. If everything is fine with your application, this will print the following message in Eclipse console &minus;</p>
<pre class="result notranslate">
Your Message : Hello World!
</pre>
<p>If you check your C:\\ drive, then you should find your log file <b>log.out</b> with various log messages, like something as follows &minus;</p>
<pre class="result notranslate">
&lt;!-- initialization log messages --&gt;

Going to create HelloWord Obj
Returning cached instance of singleton bean 'helloWorld'
Exiting the program
</pre>
<h2>Jakarta Commons Logging (JCL) API</h2>
<p>Alternatively you can use <b>Jakarta Commons Logging (JCL)</b> API to generate a log in your Spring application. JCL can be downloaded from the <a href="https://jakarta.apache.org/commons/logging/" target="blank" rel="nofollow">https://jakarta.apache.org/commons/logging/</a>. The only file we technically need out of this package is the <i>commons-logging-x.y.z.jar</i> file, which needs to be placed in your classpath  in a similar way as you had put <i>log4j-x.y.z.jar</i> in the above example.</p>
<p>To use the logging functionality you need a <i>org.apache.commons.logging.Log</i> object and then you can call one of the following methods as per your requirment &minus;</p>
<ul class="list">
<li>fatal(Object message)</li>
<li>error(Object message)</li>
<li>warn(Object message)</li>
<li>info(Object message)</li>
<li>debug(Object message)</li>
<li>trace(Object message)</li>
</ul>
<p>Following is the replacement of MainApp.java, which makes use of JCL API</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.apache.commons.logging. Log;
import org.apache.commons.logging. LogFactory;

public class MainApp {
   static Log log = LogFactory.getLog(MainApp.class.getName());

   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      log.info("Going to create HelloWord Obj");
      HelloWorld obj = (HelloWorld) context.getBean("helloWorld");
      obj.getMessage();

      log.info("Exiting the program");
   }
}
</pre>
<p>You have to make sure that you have included commons-logging-x.y.z.jar file in your project, before compiling and running the program.</p> 
<p>Now keeping the rest of the configuration and content unchanged in the above example, if you compile and run your application, you will get a similar result as what you got using Log4J API.</p>
<div class="mui-container-fluid button-borders show">
<div class="pre-btn">
<a href="/spring/spring_questions_answers.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/spring/spring_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="google-bottom-ads">
<div>Advertisements</div>
<script><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div class="space-bottom"></div>
</div>
</div>
<!-- Tutorial Content Ends Here -->
<!-- Right Column Starts Here -->
<div class="mui-col-md-2 google-right-ads">
<div class="space-top"></div>
<div class="google-right-ad" style="margin: 0px auto !important;margin-top:5px;">
<script><!--
google_ad_client = "pub-2537027957187252";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9012177"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9012177")})</script>
</div>
<div class="space-bottom"></div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9013289"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9013289")})</script>
</div>
<div class="space-bottom" style="margin-bottom:15px;"></div>
</div>
<!-- Right Column Ends Here -->
</div>
</div>
<div class="clear"></div>
<footer id="footer">
<div class="mui--text-center">
<div class="mui--text-caption mui--text-light">
<a href="/index.htm" class="logo"><img class="img-responsive" src="/images/logo-black.png" alt="Tutorials Point" title="Tutorials Point"></a>
</div>
<ul class="mui-list--inline mui--text-body2 mui--text-light">
<li><a href="/about/index.htm"><i class="fal fa-globe"></i> About us</a></li>
<li><a href="/about/about_terms_of_use.htm"><i class="fal fa-asterisk"></i> Terms of use</a></li>
<li><a href="/about/about_privacy.htm#cookies"> <i class="fal fa-shield-check"></i> Cookies Policy</a></li>
<li><a href="/about/faq.htm"><i class="fal fa-question-circle"></i> FAQ's</a></li>
<li><a href="/about/about_helping.htm"><i class="fal fa-hands-helping"></i> Helping</a></li>
<li><a href="/about/contact_us.htm"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
</ul>
<div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2019. All Rights Reserved.</div>
</div>
<div id="privacy-banner">
  <div>
    <p>
      We use cookies to provide and improve our services. By using our site, you consent to our Cookies Policy.
      <a id="banner-accept" href="#">Accept</a>
      <a id="banner-learn" href="/about/about_cookies.htm" target="_blank">Learn more</a>
    </p>
  </div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-232293-17"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-232293-6');
</script>
</footer>
</body>
</html>
